void function(){function n(n,t){var e=function(){var t=a(e.prototype);return n.apply(t,arguments),t},r=null,i=n.toString();return t&&(e.prototype=a(t)),r=e.prototype,r.constructor=e,e.toString=function(){return i},e}var t=Array.prototype.slice,e=function(){return this}(),r=(Object.prototype,function(){}),i=/\{(\d+)\}/g,o=/\s/,u=void 0,c="function"==typeof require&&global.require!==require,s="object"==typeof window&&window===e,l={VERSION:"1.1.0"},a=null,f=null,_=null,d=null,p=null,h=null,g=null,S=null,v=null,m=null,E=null,O=null,y=null,w=null,C=null,A=null,b=null,I=null,T=null,N=null,X=null,L=null,x=null,D=null,R=null,M=null,P=null,F=null,j=null,U=null,k=null,B=null,W=null;void function(){var n=e.console||{info:r,log:r,warn:r,error:r};"function"!=typeof n.group&&(n.group=function(){try{n.log.apply(n,arguments)}catch(e){n.log(t.call(arguments))}},n.groupEnd=r),n._warn=function(t,e){try{throw new(e||Error)(t)}catch(r){n.warn(r.stack||r.message||r)}},n._error=function(t,e){try{throw new(e||Error)(t)}catch(r){n.error(r.stack||r.message||r)}},c&&(n.error=n.log,n.warn=n.log),e.console=n}(),void function(){function n(){this.passCount=0,this.failCount=0,this.startTime=new Date}function e(n,t){t=t||[],this.unit=n||null,this.test_all_always=!!t[0],this.only_fail_message=!!t[1]}function i(n,t){if(t=t||""+n,n)a.passCount++,l.only_fail_message||console.log("[√] "+t);else{if(!l.test_all_always)throw c.length=0,s=!1,l.unit._testing=!1,l=null,new Error("Assertion failed: "+t);a.failCount++,console._error("Assertion failed: "+t)}}function o(){s=!0}function u(){var t=c.shift()||[],e=t[1]||[],t=t[0];if(s=!1,l&&l.unit&&(l.unit._testing=!1),t){if(t===console.groupEnd){if(l=null,console.groupEnd(),0===c.length){var r=a.passCount,i=a.failCount,o="",f="log";r+i&&(0===i?o="All passed.":(f="warn",o=i+" faileds.")),console[f](o,"Finished in "+(new Date-a.startTime)/1e3+"s."),a=null}return u(),void 0}return a||(a=new n,console.log(a)),t.test.apply(t,e),t}}var c=[],s=!1,l=null,a=null;_=function(n,t){t?(this.label=n||"",this.code=t):"function"==typeof n?(this.label="",this.code=n):(this.label=n,this.code=r),this.disabled=!1,this._subunits=[],this._testing=!1},_.prototype.append=function(n){var n=t.call(arguments);if(this.disabled)return console._warn("无法对一个失效(disabled属性为true)的测试单元进行修改操作"),null;for(var e=0,r=n.length;r>e;e++){var i=n[e];if(!(i instanceof _))throw new TypeError("测试单元类型错误");i!==this&&this._subunits.push(i)}},_.prototype.remove=function(n){var n=arguments,t=this._subunits,e=[];if(this.disabled)return console._warn("无法对一个失效(disabled属性为true)的测试单元进行修改操作"),null;for(var r=0,i=n.length,o=t.length-1;i>r;r++)for(var u=n[r],c=o;c>=0;r--){var s=t[c];s.label===u&&(s._testing?console._warn("子测试单元由于状态处在测试中，所以无法将其删除。"):(e.push(s),t.splice(c,1)))}return e},_.prototype.subUnit=function(n){for(var t=null,e=this._subunits,r=0,i=e.length;i>r&&(t=e[r],t.label!==n);r++)t=null;return t},_.prototype.test=function(){if(this.disabled)return console._warn("无法对一个失效(disabled属性为true)的测试单元进行测试操作"),void 0;if(!this._testing)if(s)c.push([this,arguments]);else{var t=this._subunits;a||(a=new n),l=new e(this,arguments),console.group("test "+(this.label||"unknow")+" unit."),c.unshift([console.groupEnd]);for(var r=t.length-1;r>=0;r--)c.unshift([t[r],arguments]);this._testing=!0,this.code(i,o,u),s||u()}}}(),f=new _("Global"),a=Object.create||function(){function n(){}return function(t){return n.prototype=t,new n}}(),f.append(new _("newObject",function(n){var t=null,e=null;t={p1:"Hello",p2:"World"},e=a(t),e.m1=function(){return this.p1+","+this.p2},n("Hello,World"===e.m1(),"检测对象原型链")})),f.append(new _("ObjectFactory",function(t){var e=null,r=null,i=null;i=function(n,t){this.p1=1+~~n,this.p2=-1+~~t},e=n(i),e.prototype.m1=function(){return this.p1+this.p2},r=e(),t(r instanceof e,"检测对象的构造器"),t(1===r.p1,"检测对象成员"),t(0===r.m1(),"检测对象原型链"),t(e.toString()===i.toString(),"检测是否能正确执行-1"),t(e(1).m1()+e(1,2).m1()===4,"检测是否能正确执行-2"),e=n(function(){this.p2=1},r),t(1===e().p1,"继承特性执行状态测试"),t(2===e().m1(),"继承特性执行状态测试"),e.prototype.p2++,t(-1===r.p2,"继承特性执行状态测试"),t(e().constructor===e,"检测是否能正确执行-3")})),void function(){var n={Tool:{},DataType:{},ParamTypeModifier:{},Subsidiary:{}},t={};d=function(e,r,i){var o=null;return r=n[r||d.TOOL],e="__Cox_"+e+"__",o=t[e]||(t[e]={}),i.__COX_KEYWORD_NAME__=e,i.__COX_SIGN__=e,o.name=e,o[i.toString()]=i,r[e]=o,i},d.TOOL="Tool",d.DATATYPE="DataType",d.PARAM_TYPE_MODIFIER="ParamTypeModifier",d.SUBSIDIARY="Subsidiary",d.Tool=function(n,t){return d(n,d.TOOL,t)},d.DataType=function(n,t){return d(n,d.DATATYPE,t)},d.ParamTypeModifier=function(n,t){return d(n,d.PARAM_MTYPE_MODIFIER,t)},d.Subsidiary=function(n,t){return d(n,d.SUBSIDIARY,t)},d.__instancelike__=function(e,r){var i=null;return"function"==typeof e&&e.__COX_KEYWORD_NAME__?(i=t[e.__COX_KEYWORD_NAME__],i&&e.toString()in i?!r||(r=n[r],i.name in r)?!0:!1:!1):!1},f.append(new _("KeyWord",function(e){var i={groups:n,keywords:t},o=null,u=null;n={Tool:{},DataType:{},ParamTypeModifier:{},Subsidiary:{}},t={},o=d("sun",null,function(n,t){return n+t}),e("function"==typeof o,"检测调用 _KeyWord 的执行结果"),e(d.Tool("A",function(){}),"检测快捷接口 _KeyWord.Tool"),e(d.DataType("B",function(){}),"检测快捷接口 _KeyWord.DataType"),e(d.ParamTypeModifier("C",function(){}),"检测快捷接口 _KeyWord.ParamTypeModifier"),e(d.Subsidiary("D",function(){}),"检测快捷接口 _KeyWord.Subsidiary"),e(d.__instancelike__(o),"检测关键字是否被成功标记"),e(3===o(1,2),"检测关键字是否能被正确使用"),e(d.__instancelike__(o,d.TOOL),"检测关键字是否被分配到默认分组"),e(d.__instancelike__(d("X",d.SUBSIDIARY,r),d.SUBSIDIARY),"为关键字进行指定分组"),u=d("sun",null,function(n,t){return o(n,t)}),e(d.__instancelike__(o,"Tool")&&d.__instancelike__(u,"Tool"),"检测是否能为同一个关键字添加多个处理程序"),n=i.groups,t=i.keywords}))}(),void function(){var r=new _("Util"),c=!(e.ActiveXObject&&e.document&&~~e.document.documentMode<=8)&&[]||["constructor","toString","valueOf","toLocaleString","prototype","isPrototypeOf","propertyIsEnumerable","hasOwnProperty","length","unique"],s={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","":"\\v",'"':'\\"',"\\":"\\\\"},l=/[\\\"\x00-\x1f]/g;v=d("PlainObject",d.DATATYPE,function(){return{}}),v.__instancelike__=function(n){return n&&n.constructor===Object},r.append(new _("PlainObject",function(n){function t(){}var e=0;n(v,"PlainObject ok."),e=~~v.__instancelike__({}),e+=~~!v.__instancelike__(new t),n(2===e,"检测 PlainObject.__instancelike__ 是否能被正确执行")})),E=d("Type",d.DATATYPE,function(){return Function.apply(null,arguments)}),E.__instancelike__=function(n){return!!n&&("function"==typeof n||"function"==typeof n.__instancelike__)},r.append(new _("Type",function(n){n(E()instanceof Function,"测试是否能正确执行-1"),n(0===E("a","return a")(0),"测试是否能正确执行-2");var t={__instancelike__:function(){return!0}};n(E.__instancelike__(String)===!0,"_Type.__instancelike__( String ) === true"),n(E.__instancelike__(t)===!0,"_Type.__instancelike__( oType ) === true"),n(E.__instancelike__({})===!1,"_Type.__instancelike__( {} ) === false"),n(E.__instancelike__(null)===!1,"_Type.__instancelike__( null ) === false")})),m=d("Null",d.DATATYPE,function(){return null}),m.__instancelike__=function(n){return null===n||n===u},r.append(new _("NullObject",function(n){var t=0;n(m,"NullObject ok."),t=~~m.__instancelike__(null),t+=~~m.__instancelike__(u),t+=~~!m.__instancelike__(!1),n(3===t,"检测 Null.__instancelike__ 是否能被正确执行")})),p=d("XObject",d.DATATYPE,n(function(){})),p.create=a,p.forEach=[function(n,t,e,r){t=!!t;for(var i in n)if((!t||n.hasOwnProperty(i))&&e.call(r,n[i],i,n)===!1)break},function(n,t,e,r){var i={};t=!!t;for(var o in n)if((!t||n.hasOwnProperty(o))&&(i["__"+o]=n,e.call(r,n[o],o,n)===!1))break;for(var o,u=c.length-1;u>=0&&(o=c[u],!n.hasOwnProperty(o)||i["__"+o]===n||e.call(r,n[o],o,n)!==!1);u--);}][c.length?1:0],p.mix=function(n,t,e,r){return n=n||{},e=!!e,r=r===u?t.constructor!=n.constructor:!!r,p.forEach(t,!r,function(t,r){!e&&r in n||(n[r]=t)}),n},p.keys=function(n){var t=[];return p.forEach(n,!0,function(n,e){t.push(e)}),t},r.append(new _("XObject",function(n){n(new p instanceof Object,"new _XObject instanceof Object"),n(d.__instancelike__(p,d.DATATYPE),"检测XObject是否为关键字")})),r.subUnit("XObject").append(new _("forEach",function(n){var t=null,e="";t={constructor:function(){return"0"},toString:function(){return"1"},valueOf:function(){return"2"},toLocaleString:function(){return"3"},prototype:function(){return"4"},isPrototypeOf:function(){return"5"},propertyIsEnumerable:function(){return"6"},hasOwnProperty:function(){return"7"},length:function(){return"8"},unique:function(){return"9"}},p.forEach(t,!0,function(n){e+=n()}),n("0123456789"===e.split("").sort().join(""),"检测是否能枚举遍历对象成员列表"),t={a:10,b:20},e=0,p.forEach(t,!0,function(n){e+=n}),n(30===e,"检测是否能枚举遍历对象成员列表")})),r.subUnit("XObject").append(new _("mix",function(n){function t(){}var e=null,r=null,i=null;e={},r={p1:1,p2:2},i={p1:0},p.mix(e,r),n("p1"in e&&"p2"in e,"目标对象被混合另一对象成员拷贝"),p.mix(e,i),n(1===e.p1,"目标对象成员不会被另一对象同一成员覆盖"),p.mix(e,i,!0),n(0===e.p1,"目标对象成员会被另一对象同一成员覆盖"),t.prototype.p3=1,p.mix(e,new t,!1,!1),n(!("p3"in e),"无法将对象原型链上的成员混合到目标对象上"),p.mix(e,new t,!1,!0),t.prototype.p4=1,p.mix(e,new t,!1),n("p3"in e&&"p4"in e,"将对象原型链上的成员混合到目标对象上")})),r.subUnit("XObject").append(new _("keys",function(n){var t=null;t={p1:1,p2:2,p3:3},n("ppp"===p.keys(t).join("").replace(/\d/g,""),"检测枚举所得的对象键名列表是否正确"),t=function(){this.p1=1},t.prototype.p2=2,n("p"===p.keys(new t).join("").replace(/\d/g,""),"检测枚举所得的对象成员键名列表是否不包含对象原型链对象中的成员键名")})),g=d("XString",d.DATATYPE,function(){return new String(arguments[0])}),g.trim=function(n){for(var t=-1,e=n.length;o.test(n.charAt(++t)););for(;e>t&&o.test(n.charAt(--e)););return n.slice(t,e+1)},g.leftTrim=function(n){for(var t=-1;o.test(n.charAt(++t)););return n.slice(t)},g.rightTrim=function(n){for(var t=n.length;t>0&&o.test(n.charAt(--t)););return n.slice(0,t+1)},g.format=function(n){var e=t.call(arguments,1);return i.lastIndex=0,n.replace(i,function(n,t){return e[t]})},g.quote=function(n){var t=null;return l.lastIndex=0,t=n.replace(l,function(n){var t=s[n];return"string"==typeof t?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)}),'"'+t+'"'},g.startsWith=function(n,t,e){return e=~~e,n.indexOf(t)==e},g.endsWith=function(n,t,e){return e=(~~e||n.length)-t.length,n.lastIndexOf(t)==e},g.__instancelike__=function(n){return n instanceof String||"string"==typeof n},r.append(new _("XString",function(n){n(new g instanceof String,"new _XString instanceof String"),n(d.__instancelike__(g,d.DATATYPE),"检测XString是否为关键字"),n(g.__instancelike__(new String("A"))===!0,'_XString.__instancelike__( new String( "A" ) ) === true'),n(g.__instancelike__("A")===!0,'_XString.__instancelike__( "A" ) === true'),n(g.__instancelike__(0)===!1,"_XString.__instancelike__( 0 ) === false")})),r.subUnit("XString").append(new _("trim",function(n){n("abc"===g.trim("abc"),'XString.trim( "abc" ) === "abc"'),n("abc"===g.trim("  abc"),'XString.trim( "  abc" ) === "abc"'),n("abc"===g.trim("abc  "),'XString.trim( "abc  " ) === "abc"'),n("abc"===g.trim("  abc  "),'XString.trim( "  abc  " ) === "abc"'),n("a b c"===g.trim("a b c"),'XString.trim( "a b c" ) === "a b c"'),n("a b c"===g.trim("  a b c  "),'XString.trim( "  a b c  " ) === "a b c"'),n(""===g.trim("    "),'XString.trim( "    " ) === ""'),n("abc"===g.leftTrim("abc"),'XString.leftTrim( "abc" ) === "abc"'),n("abc"===g.leftTrim("  abc"),'XString.leftTrim( "  abc" ) === "abc"'),n("abc"===g.rightTrim("abc"),'XString.rightTrim( "abc" ) === "abc"'),n(" abc"===g.rightTrim(" abc  "),'XString.rightTrim( "abc  " ) === "abc"')})),r.subUnit("XString").append(new _("format",function(n){n("Hello"===g.format("Hello"),'_XString.format( "Hello" ) === "Hello"'),n("Hello"===g.format("Hello","xxx","xxxxx"),'_XString.format( "Hello", "xxx", "xxxxx" ) === "Hello"'),n("Hello"===g.format("{0}","Hello"),'_XString.format( "{0}", "Hello" ) === "Hello"'),n("Hello, World"===g.format("Hello, {0}","World"),'_XString.format( "Hello, {0}", "World" ) === "Hello, World"'),n("Hello, World"===g.format("{0}, {1}","Hello","World"),'_XString.format( "{0}, {1}", "Hello", "World" ) === "Hello, World"'),n("Hello, World"===g.format("{1}, {0}","World","Hello"),'_XString.format( "{1}, {0}", "World", "Hello" ) === "Hello, World"'),n("!!"===g.format("{0}{0}","!"),'_XString.format( "{0}{0}", "!" ) === "!!"')})),r.subUnit("XString").append(new _("quote",function(n){n('"abc"'===g.quote("abc"),"检测quote是否能正常工作-1"),n('"abc"'===g.quote("abc"),"检测quote是否能正常工作-2"),n('"a\\nbc"'===g.quote("a\nbc"),"检测quote是否能正常工作-3")})),r.subUnit("XString").append(new _("startsWith",function(n){var t="_XString.startsWith = function( str, search, pos ){";n(g.startsWith(t,"String")===!1,"检测startsWith接口是否能正常工作-1"),n(g.startsWith(t,"_XString")===!0,"检测startsWith接口是否能正常工作-2"),n(g.startsWith(t,"String",2)===!0,"检测startsWith接口定位搜索-3"),n(g.startsWith(t,"String",1)===!1,"检测startsWith接口定位搜索-4")})),r.subUnit("XString").append(new _("endsWith",function(n){var t="_XString.endsWith";n(g.endsWith(t,"Wit")===!1,"检测endsWith接口是否能正常工作-1"),n(g.endsWith(t,"endsWith")===!0,"检测endsWith接口是否能正常工作-2"),n(g.endsWith(t,"ends",t.length-4)===!0,"检测endsWith接口定位搜索-3"),n(g.endsWith(t,"ends",t.length-3)===!1,"检测endsWith接口定位搜索-4")})),S=d("XList",d.DATATYPE,function(){return Array.apply(null,arguments)}),S.forEach=function(n,t,e){for(var r=0,i=n.length;i>r;r++){var o=t.call(e,n[r],r,n);if(o===!1)break;"number"==typeof o&&(r=~~o)}},S.indexOf=function(n,t){for(var e=-1,r=0,i=n.length;i>r;r++)if(n[r]===t){e=r;break}return e},S.lastIndexOf=function(n,t){for(var e=n.length,r=e-1;r>=0;r--)if(n[r]===t)return r;return-1},S.unique=function(n){var t=[],e=0;n:for(var r=0,i=n.length;i>r;r++){for(var o=n[r],u=0;e>u;u++)if(o===t[u])continue n;t[e++]=o}return t},S.xUnique=function(n){for(var t={},e=[],r=0,i=0,o=n.length;o>i;i++){var u=n[i];1!==t[u]&&(e[r++]=u,t[u]=1)}return e},S.map=function(n,t,e){for(var r=[],i=0,o=n.length;o>i;i++)r[i]=t.call(e,n[i],i,n);return r},S.filter=function(n,t,e){for(var r=[],i=0,o=n.length;o>i;i++)t.call(e,n[i],i,n)&&r.push(n[i]);return r},S.reduce=function(n,t,e,r){var i=0,o=n.length;if(arguments.length<3){if(0===o)return!1;e=n[i++]}for(;o>i;i++)e=t.call(r,e,n[i],i,n);return e},S.some=function(n,t,e){for(var r=0,i=n.length;i>r;r++)if(t.call(e,n[r],r,n))return!0;return!1},S.every=function(n,t,e){for(var r=!0,i=0,o=n.length;o>i&&!(r=r&&t.call(e,n[i],i,n));i++);return r},S.remove=function(n,t){for(var e=0,r=n.length,i=0;r>i;i++)n[i]!==t&&(n[e++]=n[i]);return n.length=e,n},S.shuffle=function(n){for(var t=n.slice(),e=n.length;e;){var r=~~(Math.random()*e);temp=null,temp=t[--e],t[e]=t[r],t[r]=temp}return t},S.__instancelike__=function(n){return n instanceof Array},r.append(new _("XList",function(n){n(new S instanceof Array,"new _XList instanceof Array"),n(d.__instancelike__(S,d.DATATYPE),"检测XString是否为关键字"),n(S.__instancelike__(new Array(1,2,3))===!0,"_XList.__instancelike__( new Array( 1, 2, 3 ) ) === true"),n(S.__instancelike__([1,2,3])===!0,"_XList.__instancelike__( [ 1, 2, 3 ] ) === true"),n(S.__instancelike__({})===!1,"_XList.__instancelike__( {} ) === false")})),r.subUnit("XList").append(new _("forEach",function(n){var t=[1,2,3],e=null,r=null,i=null;e=0,r="",S.forEach(t,function(n,t,o){e+=n,r+=""+t,i=o}),S.forEach(t,function(){i=this},i),n(6===e&&"012"===r&&i==t,"检测forEach是否能正确执行")})),r.subUnit("XList").append(new _("indexOf",function(n){var t=[1,2,3,4,5];n(0===S.indexOf(t,1),"_XList.indexOf( ["+t+"], 1 ) === 0"),n(-1===S.indexOf(t,0),"_XList.indexOf( ["+t+"], 0 ) === -1"),n(4===S.indexOf(t,5),"_XList.indexOf( ["+t+"], 5 ) === 4")})),r.subUnit("XList").append(new _("lastIndexOf",function(n){var t=[1,2,3,4,5,1,2,4,5];n(5===S.lastIndexOf(t,1),"检测lastIndexOf是否正确执行-1"),n(-1===S.lastIndexOf(t,0),"检测lastIndexOf是否正确执行-2"),n(8===S.lastIndexOf(t,5),"检测lastIndexOf是否正确执行-3")})),r.subUnit("XList").append(new _("unique",function(n){var t={},e=t,r={},i=[],o=[],u=[i,o],c=[t,e,r,i,o,u,t,e,u];c=S.unique(c),n(5===c.length,"检测XList.unique是否能正确执行"),n("1,2,3,4"===S.unique([1,2,3,4,1,2,3,2]).toString(),'_XList.unique( [ 1, 2, 3, 4, 1, 2, 3, 2 ] ).toString() === "1,2,3,4"')})),r.subUnit("XList").append(new _("xUnique",function(n){n("1,2,3"===S.xUnique([1,2,1,2,3,2,1,3,1]).toString(),'_XList.xUnique( [ 1, 2, 1, 2, 3, 2, 1, 3, 1 ] ).toString() === "1,2,3"')})),r.subUnit("XList").append(new _("map",function(n){var t=[1,2,3],e=null,r=null,i=null;e=0,r="",e=S.map(t,function(n,t,e){return r+=""+t,i=e,n-1}).join(""),S.map(t,function(n){return i=this,n},i),n("012"===e&&"012"===r&&i==t,"检测map是否能正确执行")})),r.subUnit("XList").append(new _("filter",function(n){var t=[1,2,3],e=null,r=null,i=null;e=0,r="",e=S.filter(t,function(n,t,e){return r+=""+t,i=e,n%2}).join(""),S.filter(t,function(){i=this},i),n("13"===e&&"012"===r&&i==t,"检测filter是否能正确执行")})),r.subUnit("XList").append(new _("reduce",function(n){var t=[1,2,3],e=null,r=null,i=null;e=0,r="",e=S.reduce(t,function(n,t,e,o){return r+=""+e,i=o,n+t}),e+=S.reduce(t,function(n,t,e,o){return r+=""+e,i=o,n-t},10,i),n(10===e&&"12012"===r&&i==t,"检测reduce是否能正确执行")})),r.subUnit("XList").append(new _("some",function(n){n(S.some([0,0,0],function(n){return!!n})===!1,"检测some是否能正确执行-1"),n(S.some([0,1,0],function(n){return!!n})===!0,"检测some是否能正确执行-2"),n(S.some([0,1,0],function(n){return n===this.a},{a:1})===!0,"检测some是否能正确执行-3")})),r.subUnit("XList").append(new _("every",function(n){n(S.every([0,0,0],function(n){return!!n})===!1,"检测every是否能正确执行-1"),n(S.every([0,1,0],function(n){return!!n})===!1,"检测every是否能正确执行-2"),n(S.every([1,1,1],function(n){return!!n})===!0,"检测every是否能正确执行-3"),n(S.every([1,1,1],function(n){return n===this.a},{a:1})===!0,"检测every是否能正确执行-4")})),r.subUnit("XList").append(new _("remove",function(n){n("111"===S.remove([1,1,0,0,0,1,0],0).join(""),"检测remove是否能正确执行-1"),n(""===S.remove([0,0,0,0],0).join(""),"检测remove是否能正确执行-2"),n("0000"===S.remove([0,0,0,0],1).join(""),"检测remove是否能正确执行-3")})),r.subUnit("XList").append(new _("shuffle",function(n){n(S.shuffle([1,2,3,4,5,6,7]));for(var t=S.shuffle([1,2,3,4,5,6,7]),e=0,r=1;7>=r;r++)S.remove(t,r),e+=t.length;n(e===S.reduce([1,2,3,4,5,6],function(n,t){return n+t}),"检测shuffle是否正确执行")})),O=function(n,e,r){if(!n)return!1;if(r=t.call(arguments).slice(1),"function"==typeof n.__instancelike__)return n.__instancelike__.apply(n,r);if(null!==e&&e!==u&&n===Object)return!0;switch(typeof e){case"object":case"function":case"undefined":return"function"==typeof n&&e instanceof n;default:return e.constructor===n}},r.append(new _("is",function(n){function t(){return String.apply(null,arguments)}function e(){}n(O(null)===!1,"_is( null ) === false"),n(O(Object,null)===!1,"_is( Object, null ) === false"),n(O(Object,{})===!0,"_is( Object, {} ) === true"),n(O(String,"a")===!0,'_is( String, "a" ) === true'),n(O(String,new String)===!0,"_is( String, new String ) === true"),t.__instancelike__=function(n){return"string"==typeof n||n instanceof String},n(O(t,"xstring")===!0,'_is( XString, "xstring" ) === true'),e.__instancelike__=function(n,t){return null!==n&&n!==u&&(t?n instanceof t:!0)},n(O(e,null)===!1,"_is( XObject, null ) === false"),n(O(e,[])===!0,"_is( XObject, [] ) === true"),n(O(e,[],Array)===!0,"_is( XObject, [], Array ) === true")})),f.append(r)}(),void function(){var e=new _("XFunction"),i=null,o=null;i={toString:function(){return this.__COX_SIGN__},equals:function(n){return n===this}},y=d("Nullable",d.PARAM_TYPE_MODIFIER,n(function(n){if(!O(E,n))throw new TypeError("Nullable操作符需要一个Function类型实例.");this.type=n,this.__COX_SIGN__="Nullable( "+(n.__COX_SIGN__||n.name||n.toString())+" )"},i)),y.prototype.__instancelike__=function(n){return null===n||n===u||O(this.type,n)},e.append(new _("Nullable",function(n){n(O(d,y,d.PARAM_TYPE_MODIFIER),"检测是否为关键字"),n(y(String),"检测是否能正确执行-1"),n(y(String)instanceof y,"检测是否能正确执行-2"),n(O(y,y(String)),"检测是否能正确执行-3"),n(O(y(String),null)===!0,"检测是否能正确执行-4"),n(O(y(String),u)===!0,"检测是否能正确执行-5"),n(O(y(String),0)===!1,"检测是否能正确执行-6"),n(O(y(String),!1)===!1,"检测是否能正确执行-7"),n(O(y(String),"")===!0,"检测是否能正确执行-8"),n(O(y(String),"Hello")===!0,"检测是否能正确执行-9"),n(O(y(String),{})===!1,"检测是否能正确执行-10"),console.log(y(String).toString())})),w=d("Optional",d.PARAM_TYPE_MODIFIER,n(function(n,t){if(!O(E,n))throw new TypeError("Optional操作符需要一个Function类型实例.");if(1===arguments.length)switch(n){case Number:t=0;break;case String:t="";break;case Boolean:t=!1;break;case Object:t={};break;case Array:t=[];break;default:t=null}else if(!O(n,t)&&!O(m,t))throw new TypeError("Optional操作符中 value参数（如果给定)的值类型必须与type参数的类型匹配.");this.type=n,this.value=t,this.__COX_SIGN__="Optional( "+((n.name||n.__COX_SIGN__||n.toString())+" )")},i)),e.append(new _("Optional",function(n){n(O(d,w,w.PARAM_TYPE_MODIFIER),"检测是否为关键字"),n(w(String),"检测是否能正确执行-1"),n(w(String)instanceof w,"检测是否能正确执行-2"),n(O(w,w(String)),"检测是否能正确执行-3"),n(w(String).type===String,"检测是否能正确执行-4"),n(""===w(String).value,"检测是否能正确执行-5"),n(w(Object).value,"检测是否能正确执行-6"),n("number"==typeof w(Number).value,"检测是否能正确执行-7"),n(null===w(Object,null).value,"检测是否能正确执行-8")})),C=d("Params",d.PARAM_TYPE_MODIFIER,n(function(n){if(!O(E,n))throw new TypeError("Params操作符需要一个Function类型实例.");this.type=n,this.__COX_SIGN__="Params( "+(n.__COX_SIGN__||n.name||n.toString())+" )"},i)),C.prototype.__instancelike__=function(n){if(!(n&&n instanceof Array))return!1;for(var t=0,e=~~n.length;e>t;t++)if(!O(this.type,n[t]))return!1;return!0},e.append(new _("Params",function(n){n(O(d,C,d.PARAM_TYPE_MODIFIER),"检测是否为关键字"),n(C(String),"检测是否能正确执行-1"),n(C(String)instanceof C,"检测是否能正确执行-2"),n(O(C,C(String)),"检测是否能正确执行-3"),n(O(C(String),[])===!0,"检测是否能正确执行-4"),n(O(C(String),["A","B","C"])===!0,"检测是否能正确执行-5"),n(O(C(String),null)===!1,"检测是否能正确执行-6"),n(O(C(String),"a")===!1,"检测是否能正确执行-7"),console.log(C(String).toString())})),A=d("ParamTypeTable",d.SUBSIDIARY,n(function(){var n=arguments.length;this.minParamCount=0,this.maxParamCount=0,this.optStartIndex=-1,this.optEndIndex=0;for(var e=0,r=n-1;r>=e;e++){var i=arguments[e];if(i instanceof y||i instanceof C&&e===r||O(E,i))this.minParamCount++,this.maxParamCount++;else{if(!(i instanceof w))throw new SynataxError("无效的参数类型列表定义");this.maxParamCount++}}arguments[n-1]instanceof C&&(this.minParamCount--,this.maxParamCount=1/0),this.length=n,this.__types=t.call(arguments),this.__COX_SIGN__=S.map(arguments,function(n){return n.name||n.toString()}).join(", ")})),A.prototype.parse=function(n){var n=n.slice(),t=n.length,e=this.__types.slice(),r=null,i=[];if(t<this.minParamCount||t>this.maxParamCount)return null;for(;r=e.shift();)if(r instanceof C){if(!O(r,n))return null;i.push(n)}else{if(r instanceof w){var o=A.apply(null,e),u=null,c=null;n.length&&O(r.type,n[0])&&(c=n[0],u=o.parse(n.slice(1))),u||(c=r.value,u=o.parse(n)),u?(i.push(c),i.push.apply(i,u)):i=null;break}if(!O(r,n[0]))return null;i.push(n.shift())}return i},A.prototype.equals=function(){var n=arguments[0],t=arguments.length;if(1===t&&n instanceof A){if(n===this)return!0;if(n.length!==this.length||n.minParamCount!==this.minParamCount||n.maxParamCount!==this.maxParamCount)return!1;n=n.__types,t=n.length}else if(n=arguments,t!==this.length)return!1;for(var e=0;t>e;e++){var r=n[e];switch(r.constructor){case w:case y:case C:if(this.__types[e].constructor!==r.constructor||this.__types[e].type!==r.type)return!1;break;default:if(r!==this.__types[e])return!1}}return!0},A.prototype.toString=function(){return this.__COX_SIGN__},e.append(new _("ParamTypeTable",function(n){var t=A(),e=A(String,Number,Boolean),r=A(y(String),Number,C(Boolean));n(O(d,A,d.SUBSIDIARY),"检测是否为关键字"),n(t,"检测是否能正确执行-1"),n(t instanceof A,"检测是否能正确执行-2"),n(0===t.minParamCount,"检测是否能正确执行-3"),n(0===t.maxParamCount,"检测是否能正确执行-4"),n(t.parse([])instanceof Array,"检测是否能正确执行-5"),n(0===t.parse([]).length,"检测是否能正确执行-6"),n(e,"检测是否能正确执行-7"),n(3===e.minParamCount,"检测是否能正确执行-8"),n(3===e.maxParamCount,"检测是否能正确执行-9"),n(null===e.parse([]),"检测是否能正确执行-10"),n(null===e.parse([]),"检测是否能正确执行-11"),n(e.parse(["",0,!0]),"检测是否能正确执行-12"),n("x0true"===e.parse(["x",0,!0]).join(""),"检测是否能正确执行-13"),n(null===e.parse([null,0,!0]),"检测是否能正确执行-013"),n(2===r.minParamCount,"检测是否能正确执行-14"),n(1/0===r.maxParamCount,"检测是否能正确执行-15"),n(3===r.parse([null,0]).length,"检测是否能正确执行-16"),n(3===r.parse([null,0,!0]).length,"检测是否能正确执行-17"),n(3===r.parse(["13",0,!0,!1,!1,!0]).length,"检测是否能正确执行-18"),n("130true,false,false,true"===r.parse(["13",0,!0,!1,!1,!0]).join(""),"检测是否能正确执行-19"),n(null===r.parse(["13",0,!0,!1,0,!0]),"检测是否能正确执行-20"),n(r.equals(y(String),Number,C(Boolean))===!0,"检测是否能正确执行-21"),n(r.equals(A(y(String),Number,C(Boolean)))===!0,"检测是否能正确执行-22"),n(r.equals(r)===!0,"检测是否能正确执行-23"),n(r.equals(e)===!1,"检测是否能正确执行-24"),console.log(r.toString()),t=A(w(String),w(Number),Number,w(Boolean),String,w(String),String,C(Number)),n(t.parse(["A",1,"B","C",1,2,3]),"检测是否能正确执行-25"),n(null===t.parse(["A",1,"B",1,2,3]),"检测是否能正确执行-26"),console.log(t.toString())})),o={define:function(){var n=t.call(arguments),e=A.apply(null,n.slice(0,-1)),r=n[n.length-1],i=this.__COX_XFUNCTION_OVERLOAD_LIST__,o=i.length,u=i.length;if("function"!=typeof r)throw new TypeError("需要为重载提供一个能被执行的处理程序");for(var c=0;o>c;c++)if(i[c].equals(e)){u=c;break}i[u]=e,e.__COX_BUILD_HANDLER__=r,this.__COX_SIGN__=[];for(var c=0,s=i.length,l=this.__COX_XFUNCTION_NAME__;s>c;c++)this.__COX_SIGN__.push(l+"("+i[c]+")");this.__COX_SIGN__=this.__COX_SIGN__.join("\n")},defined:function(){for(var n=this.__COX_XFUNCTION_OVERLOAD_LIST__,e=n.length,r=t.call(arguments),i=0;e>i;i++)if(n[i].equals.apply(n[i],r))return!0;return!1},clone:function(){var n=h(r);return n.__COX_XFUNCTION_OVERLOAD_LIST__=this.__COX_XFUNCTION_OVERLOAD_LIST__.slice(),n.__COX_XFUNCTION_NAME__=this.__COX_XFUNCTION_NAME__,n.__COX_SIGN__=this.__COX_SIGN__,n},toString:function(){return this.__COX_SIGN__}},h=d("XFunction",d.DATATYPE,function(){var n=function(){for(var e=t.call(arguments),r=n.__COX_XFUNCTION_OVERLOAD_LIST__,i=null,o=null,u=0,c=r.length;c>u;u++){var s=r[u];if(o=s.parse(e)){i=s.__COX_BUILD_HANDLER__;break}}if(!i)throw new Error("未定义与当前传送参数相匹配的处理程序");return i.apply(this,o)};return n.__COX_XFUNCTION_OVERLOAD_LIST__=[],n.__COX_XFUNCTION_NAME__=n.__COX_SIGN__=arguments[arguments.length-1].name||"",p.mix(n,o,!0),n.define.apply(n,arguments),n}),h.bind=function(n,e,r){return r=t.call(arguments).slice(2),function(){return n.apply(e,r.concat.apply(r,arguments))}},h.memoize=function c(n){var c={};return function(){var e=t.call(arguments),r=e.toString();return c.hasOwnProperty(r)?c[r]:c[r]=n.apply(this,arguments)}},e.append(new _("XFunction",function(n){var t=0,e=h(function(){t=1}),r=null;n(O(d,h,d.DATATYPE),"检测是否为关键字"),n(h,"检测是否能正确执行-2"),n("function"==typeof e,"检测是否能正确执行-3"),n(1===(e(),t),"检测是否能正确执行-4"),e.define(Number,function(n){t=n}),n(2===(e(2),t),"检测是否能正确执行-5"),e.define(Number,Number,function(n,e){t=n*e}),n(1===(e(1,1),t),"检测是否能正确执行-6"),e.define(C(Number),function(n){t=S.reduce(n,function(n,t){return n+t})}),n(8===(e(1,1,1,5),t),"检测是否能正确执行-7"),n(4===(e(2,2),t),"检测是否能正确执行-8"),r=e.clone(),r.define(Number,Number,function(n,e){return t=Math.pow(n,e)}),n(4===(e(2,2),t),"检测是否能正确执行-9"),n(1===(r(),t),"检测是否能正确执行-10"),n(2===(r(2),t),"检测是否能正确执行-11"),n(8===(r(2,3),t),"检测是否能正确执行-12"),n(1===r(1,0),"检测是否能正确执行-13"),n(r.defined(Number,Number)===!0,"检测是否能正确执行-14"),n(r.defined()===!0,"检测是否能正确执行-15"),n(r.defined(A())===!0,"检测是否能正确执行-015"),n(r.defined(A(Number))===!0,"检测是否能正确执行-16"),n(r.defined(A(String))===!1,"检测是否能正确执行-17"),n(r.defined(Number,String)===!1,"检测是否能正确执行-18"),console.log(e),console.log(r)})),e.subUnit("XFunction").append(new _("bind",function(n){var t={},e=null,r=null,i=null;i=h.bind(function(){e=this},t),i(),i=h.bind(function(n,t,i){r=n+t+i,e=this},e,1,2),i(3),n(e===t&&6===r,"检测bind是否能正确执行")})),e.subUnit("XFunction").append(new _("memoize",function(n){var t=null,e=null;t=0,e=h.memoize(function(n){t+=n}),e(1),e(1),e(1),e(2),e(2),n(3===t,"检测memoize是否能被正确执行")})),f.append(e)}(),void function(){var e=new _("Oop"),i=null;I=d("Extends",d.SUBSIDIARY,n(function(){this.parents=S.unique(t.call(arguments))})),b=d("Implements",d.SUBSIDIARY,n(function(){for(var n=S.unique(t.call(arguments)),e=n.length,r=0;e>r;r++)if(!(n[r]instanceof T))throw new TypeError("无效的接口类型");this.interfaces=n})),e.append(new _("Modiffier",function(n){n(O(d,I,d.SUBSIDIARY),"检测Extends是否为关键字"),n(O(d,b,d.SUBSIDIARY),"检测Implements是否为关键字"),n(I(),"检测是否能正确执行-1"),n(I(),"检测是否能正确执行-2")})),T=d("Interface",d.DATATYPE,n(function(n,t,e){var r={},i={},o=[r,i];if(t){for(var u=0,c=t.parents.length;c>u;u++)if(!(t.parents[u]instanceof T))throw new TypeError("接口类只允许扩展由Interface操作符创建的接口类");t=t.parents}if(e&&"function"!=typeof e)throw new TypeError("接口类只允许使用Function类型的实例作为接口类的类体（提供公共接口的定义）");this.__COX_INTERFACE_EXTENDS__=t||null,this.__COX_INTERFACE_CMETHODS__=r,this.__COX_INTERFACE_IMETHODS__=i,this.__COX_INTERFACE_NAME__=n=n||"anonymous",this.__COX_SIGN__="[Interface "+n+"]",r.prototype={},e.call(r,r,i),delete r.constructor,p.mix(i,r.prototype,!0),delete r.prototype;for(var u=0,c=o.length;c>u;u++){var s=o[u];p.forEach(s,!0,function(n,t){if(n!==Function){if(n instanceof A)return s[t]=[n],void 0;if(!(n instanceof Array))throw new TypeError("无效的接口定义");for(var e=0,r=n.length;r>e;e++)if(!(n[e]instanceof A))throw new TypeError("无效的接口定义")}})}})),T.prototype.extended=function(n){var t=this.__COX_INTERFACE_EXTENDS__;if(!(t&&n instanceof T))return!1;if(-1!==S.indexOf(t,n))return!0;for(var e=0,r=t.length;r>e;e++)if(t[e].extended(n))return ret=!0,!0;return!1},T.prototype.implementIn=function(n){var t=this,e=this.__COX_INTERFACE_EXTENDS__,r=this.__IGNORES__ instanceof Array?this.__IGNORES__:[],i="function"==typeof n?n:n.constructor,o=[{methods:this.__COX_INTERFACE_CMETHODS__,obj:i},{methods:this.__COX_INTERFACE_IMETHODS__,obj:"function"==typeof n?n.prototype:n}];if(-1!==S.indexOf(r,this))return!0;if(r.push(this),e)for(var u=0,c=e.length;c>u;u++){var s=e[u];s.__IGNORES__=r,s.implementIn(n),delete s.__IGNORES__}for(;n=o.shift();)p.forEach(n.methods,!0,function(e,r){var o=n.obj[r];if(!(r in n.obj))throw new Error(t+"接口类中的`"+r+"`接口未被实现");if("function"!=typeof n.obj&&"constructor"===r&&i.__COX_CLASS_CLASSINFO__&&(o=i.__COX_CLASS_CLASSINFO__.CONSTRUCTOR),e===Function&&"function"!=typeof o)throw new TypeError(t+"接口类中的`"+r+"`接口以非Function类型实例被实现");if(e instanceof Array)for(var u=0,c=e.length;c>u;u++)if("function"!=typeof o||"function"!=typeof o.defined||!o.defined(e[u]))throw new TypeError(t+"接口类中的`"+r+"`接口未被正确实现")});return!0},T.prototype.__instancelike__=function(n){if(!n||"object"!=typeof n)return!1;try{return this.implementIn(n),!0}catch(t){return!1}},T.prototype.toString=function(){return this.__COX_SIGN__},e.append(new _("Interface",function(n){function t(){}var e=T("A1",null,function(){}),r=T("A2",null,function(n,t){n.m1=Function,t.m1=A(),t.m2=[A(),A(String),A(String,Boolean,String)]}),i=T("A3",I(r),function(n,t){n.m1=A(Boolean),t.m2=A(Boolean,String)}),o=null,u=null;n(O(d,T,d.DATATYPE),"检测是否为关键字"),n(T,"检测是否能正确执行-1"),n(e instanceof T,"检测是否能正确执行-2"),n(r instanceof T,"检测是否能正确执行-3"),n(r.__COX_INTERFACE_IMETHODS__.m1 instanceof Array,"检测是不能正确执行-4"),n(i instanceof T,"检测是否能正确执行-5");try{o=T("A4",null,function(n,t){n.m1=function(){},t.m1=String})}catch(c){u=Error}n(u===Error,"检测是否能正确执行-4");try{o=T("A4",I(e,r,i,Function),function(){})}catch(c){u=TypeError}n(u===TypeError,"检测是否正确执行-5"),o=T("A4",I(e,i),function(n){n.m2=A(Boolean)}),n(i.extended(r),"检测是否能正确执行-6"),n(!i.extended(e),"检测是否能正确执行-7"),n(o.extended(e),"检测是否能正确执行-8"),n(o.extended(i),"检测是否能正确执行-9"),n(o.extended(r),"检测是否能正确执行-10"),n(e.implementIn({}),"检测是否能正确执行-11"),t.m1=h(Boolean,function(){}),t.m2=h(Boolean,function(){}),t.prototype.m1=h(function(){}),t.prototype.m2=h(function(){}),t.prototype.m2.define(String,function(){}),t.prototype.m2.define(Boolean,String,function(){}),t.prototype.m2.define(String,Boolean,String,function(){}),u=null;try{r.implementIn({})}catch(c){u=Error}n(u===Error,"检测是否能正确执行-12"),n(r.implementIn(t),"检测是否能正确执行-13"),n(i.implementIn(new t),"检测是否能正确执行-14"),n(o.implementIn(new t),"检测是否能正确执行-15"),n(O(o,new t),"检测是否能正确执行-16")})),N=d("ClassMode",d.SUBSIDIARY,n(function(n){this.__COX_CLASS_MODE_NAME__=n})),N.prototype.toString=function(){return this.__COX_CLASS_MODE_NAME__},N.prototype.newClass=r,N.prototype.prefect=r,L=N("Abstract"),L.newClass=function(){return function(){throw new SynataxError("抽象类不允许被实例化！")
}},L.implementIn=function(n,t){for(var e=n.__COX_CLASS_CLASSINFO__,r=n,i="function"==typeof t?t:t.constructor,o=[{methods:e.CLASS_METHODS,obj:i},{methods:e.INSTANCE_METHODS,obj:"function"==typeof t?t.prototype:t}];t=o.shift();)p.forEach(t.methods,!0,function(n,e){var o=t.obj[e];if(!(e in t.obj))throw new Error(r+"抽象类中的`"+e+"`接口未被实现");if("function"!=typeof t.obj&&"constructor"===e&&i.__COX_CLASS_CLASSINFO__&&(o=i.__COX_CLASS_CLASSINFO__.CONSTRUCTOR),n===Function&&"function"!=typeof o)throw new TypeError(r+"抽象类中的`"+e+"`接口以非Function类型实例被实现");if(n instanceof Array)for(var u=0,c=n.length;c>u;u++)if("function"!=typeof o||"function"!=typeof o.defined||!o.defined(n[u]))throw new TypeError(r+"抽象类中的`"+e+"`接口未被正确实现")});return!0},L.perfect=function(n){var t=n.CLASS,e=t.prototype,r=e.constructor,o=null,u={},c={},s=[{source:t,dest:u},{source:e,dest:c}];delete u.constructor;for(var l=0,a=s.length;a>l;l++){var f=s[l].source,_=s[l].dest;p.forEach(f,!0,function(n,t){if(n===Function)_[t]=n,delete f[t];else if(n instanceof A)_[t]=[n],delete f[t];else if(n instanceof Array){for(var e=0,r=n.length;r>e;e++)if(!(n[e]instanceof A))return;_[t]=n,delete f[t]}})}if(n.CLASS_METHODS=u,n.INSTANCE_METHODS=c,r!==t&&c.constructor!==r&&!(r instanceof A)){if("function"!=typeof r)throw new TypeError("无效的构造函数定义");n.CONSTRUCTOR=r}o=t.toString,p.mix(t,i,!0),delete t.__COX_KEYWORD_NAME__,t.__COX_SIGN__="[Abstract Class "+n.NAME+"]",t.__COX_CLASS_CLASSINFO__=n,o!==i.toString&&(t.toString=o),delete t.constructor,t.prototype=e,t.implementIn=function(n){return L.implementIn(t,n)}},x=N("Single"),x.newClass=function(n){return function(){return x.getInstance.apply(n.CLASS,arguments)}},x.getInstance=function(){var n=this.__COX_CLASS_CLASSINFO__;return n.SINGLE_INSTANCE instanceof this?n.SINGLE_INSTANCE:(n.CONSTRUCTOR.apply(n.SINGLE_INSTANCE=a(this.prototype),arguments),n.SINGLE_INSTANCE)},D=N("Finaly"),D.newClass=function(n){return function(){if(this.constructor!==n.CLASS||!(this instanceof n.CLASS))throw new Error(n.__CLASS__+"类不能在当前情况情况下进行实例化");n.CONSTRUCTOR.apply(this,arguments)}},X=N("Entity"),X.newClass=function(n){return function(){n.CONSTRUCTOR.apply(this,arguments)}},x.perfect=D.perfect=X.perfect=function(n){var t=n.CLASS,e=t.prototype,r=e.constructor,o=n.SUPER,u=(o&&o.__COX_CLASS_CLASSINFO__,null);if(u=t.toString,p.mix(t,i,!0),n.MODE===x&&(t.getInstance=x.getInstance),u!==i.toString&&(t.toString=u),u=e.toString,p.mix(e,i.prototype,!0),delete t.__COX_KEYWORD_NAME__,n.SUPER&&t.implementIn===n.SUPER.implementIn&&delete t.implementIn,t.__COX_SIGN__="["+(n.MODE===X?"":n.MODE.__COX_CLASS_MODE_NAME__+" ")+"Class "+n.NAME+"]",t.__COX_CLASS_CLASSINFO__=n,u!==i.prototype.toString&&(e.toString=u),e.constructor=r,r!==t){if(r===Function||"function"!=typeof r)throw new TypeError("在类定义中为类实例提供的constructor成员只允许赋值为 Function类型实例");n.CONSTRUCTOR=r}t.prototype=e;for(var c=0,s=n.IMPLEMENTS.length;s>c;c++)n.IMPLEMENTS[c].implementIn(t)},i=d("BaseClass",d.DATATYPE,n(r,p.prototype)),i.__COX_SIGN__="[Class BaseClass]",i.__COX_CLASS_CLASSINFO__={NAME:"BaseClass",MODE:X,SUPER:null,IMPLEMENTS:null,CLASS:i,CONSTRUCTOR:i,SINGLE_INSTANCE:null},i.implemented=function(n){var t=this.__COX_CLASS_CLASSINFO__;if(-1!==S.indexOf(t.IMPLEMENTS,n))return!0;for(var e=0,r=t.IMPLEMENTS.length;r>e;e++)if(t.IMPLEMENTS[e].extended(n))return!0;return!1},i.extended=function(n){return this.prototype instanceof n},i.toString=function(){return this.__COX_SIGN__},i.prototype.Super=function(n,e){var e=t.call(arguments,1),r=this.constructor.__COX_CLASS_CLASSINFO__,i=null,o=null,u=null,c=null;if(!("string"==typeof n||n instanceof String))throw new TypeError("类实例 Super( key, args )方法的 key参数项只接受 String类型实例");if(n="constructor"!==n&&n?n:"CONSTRUCTOR",this.__COX_CSLEVEL__||(this.__COX_CSLEVEL__=r.SUPER),i=this.__COX_CSLEVEL__,o=i.__COX_CLASS_CLASSINFO__,i){if("CONSTRUCTOR"===n&&o)c=o[n];else{if(!(n in i.prototype))throw new Error("在 "+i+"类 中没有定义 `"+n+"`成员");c=i.prototype[n]}"function"==typeof c?(this.__COX_CSLEVEL__=o&&o.SUPER||null,u=c.apply(this,e)):(obj&&e.length&&(obj[n]=e[0]),u=obj[n])}return delete this.__COX_CSLEVEL__,u},i.prototype.instanceOf=function(n){return n instanceof T?this.constructor.implemented(n):this instanceof n},i.prototype.toString=function(){return this.__COX_SIGN__},R=d("Class",d.DATATYPE,function(n,e,r,o,u){var c=null,s=null,n=n||u.name,r=r&&r.parents||[i],l=null,f={NAME:n,MODE:e,SUPER:null,IMPLEMENTS:null,CLASS:null,CONSTRUCTOR:null,SINGLE_INSTANCE:null};if(s=function(){this.Super.apply(this,["constructor"].concat(t.call(arguments)))},c=f.CLASS=e.newClass(f),r.length>1)throw new SynataxError("类不允许扩展多个父类");if(r=r[0]||i,"function"!=typeof r)throw new TypeError("无效的扩展类");if(l=r.__COX_CLASS_CLASSINFO__,l&&l.MODE===D)throw new Error(r+"类不允许被扩展");return l&&"function"==typeof l.CONSTRUCTOR&&(s=l.CONSTRUCTOR.clone?l.CONSTRUCTOR.clone():s),p.forEach(r,!0,function(n,t){c[t]=n&&"function"==typeof n.clone?n.clone():n}),c.prototype=a(r.prototype),p.forEach(r.prototype,!0,function(n,t){n&&"function"==typeof n.clone&&(c.prototype[t]=n.clone())}),o=o&&o.interfaces||[],c.prototype.constructor=s,u.call(c,c,c.prototype),delete c.constructor,f.IMPLEMENTS=S.xUnique(o.concat(l&&l.IMPLEMENTS||[])),l.MODE===L&&f.IMPLEMENTS.push(r),f.SUPER=r,f.CONSTRUCTOR=s,e.perfect(f),c.prototype.constructor=c,c.prototype.__COX_SIGN__="[Object "+n+"]",c}),e.append(new _("Class.Entity",function(n){var t=R("C1",X,null,null,function(){}),e=R("C2",X,null,null,function(n,t){n.P1=0,n.toString=function(){return"C2"},n.extended=function(){},t.constructor=h(function(){n.P1++}),t.toString=function(){return"C2 Object["+n.P1+"]"},t.Super=function(){}});n(t,"检测是否能正确执行-1"),n(t instanceof Function,"检测是否能正确执行-2"),n(new t instanceof t,"检测是否能正确执行-3"),n(e,"检测是否能正确执行-4"),n(0===e.P1,"检测是否能正确执行-5"),n(new e,"检测是否能正确执行-6"),n(1===e.P1,"检测是否能正确执行-7"),n((new e).toString!==i.prototype.toString,"检测是否能正确执行-8"),n("C2"===e.toString(),"检测是否能正确执行-9"),n(e.extended===i.extended,"检测是否能正确执行-10"),n(t.extended===i.extended,"检测是否能正确执行-11"),n((new e).Super===i.prototype.Super,"检测是否能正确执行-12"),n(new e instanceof i,"检测是否能正确执行-13"),n(new e instanceof p,"检测是否能正确执行-14"),console.log(t),console.log((new t).toString()),console.log(e),console.log((new e).toString())})),e.append(new _("Class.Abstract",function(n){var t=R("C1",L,null,null,function(n,t){n.m1=Function,n.P1=0,t.constructor=A()}),e=null;n(t,"检测是否能正确执行-1"),n(t instanceof Function,"检测是否能正确执行-2");try{e=new t}catch(r){e=Error}n(e===Error,"检测是否能正确执行-3"),n(!("m1"in t),"检测是否能正确执行-4"),n(0===t.P1,"检测是否能正确执行-5"),n(t.prototype.constructor===t,"检测是否能正确执行-6"),console.log(t)})),e.append(new _("Class.Single",function(n){var t=R("C1",x,null,null,function(){}),e=R("C2",x,null,null,function(n,t){n.count=0,t.constructor=function(){n.count++}}),r=null;n(t,"检测是否能正确执行-1"),n(r=new t,"检测是否能正确执行-2"),n(r===new t,"检测是否能正确执行-3"),new e,new e,n(new e instanceof e,"检测是否能正确执行-4"),n(1===e.count,"检测是否能正确执行-5"),console.log(e),console.log((new e).toString())})),e.append(new _("Class.Finaly",function(n){var t=R("C1",D,null,null,function(){}),e=null,r=null;n(t,"检测是否能正确执行-1"),n(t instanceof Function,"检测是否能正确执行-2"),n(new t instanceof t,"检测是否能正确执行-3"),n(new t instanceof i,"检测是否能正确执行-4"),n(new t instanceof p,"检测是否能正确执行-5");try{e=R("C2",X,I(t),null,function(){})}catch(o){r=Error}n(r===Error,"检测是否能正确执行-6")})),e.append(new _("Class.Extends",function(n){var t=null,e=R("C1",X,null,null,function(n,e){n.p1=-1,n.m1=function(){this.p1--},e.constructor=h(function(){t="C1"})}),r=R("C2",X,I(e),null,function(n,e){e.constructor.define(function(){this.Super("constructor"),t+="->C2"}),e.m1=function(){this.Super("m1")}}),o=null;n(e instanceof Function,"检测是否能正确执行-1"),n(r instanceof Function,"检测是否能正确执行-2"),n(e.extended(p),"检测是否能正确执行-3"),n(e.extended(i),"检测是否能正确执行-4"),n(e.extended(r)===!1,"检测是否能正确执行-5"),n(r.extended(p),"检测是否能正确执行-6"),n(r.extended(i),"检测是否能正确执行-7"),n(r.extended(e),"检测是否能正确执行-8"),o=new r,n(o instanceof r,"检测是否能正确执行-9"),n(o instanceof e,"检测是否能正确执行-10"),n(o instanceof i,"检测是否能正确执行-11"),n(o instanceof p,"检测是否能正确执行-12"),n("C1->C2"===t,"检测是否能正确执行-13"),r.m1(),n(-2===r.p1,"检测是否能正确执行-14"),n(-1===e.p1,"检测是否能正确执行-15");try{o.m1()}catch(u){t=Error}n(t===Error,"检测是否能正确执行-16"),n(o.instanceOf(e),"检测是否能正确执行-17"),n(o.instanceOf(r),"检测是否能正确执行-18"),n(o.instanceOf(i),"检测是否能正确执行-19"),n(o.instanceOf(Function)===!1,"检测是否能正确执行-20")})),e.append(new _("Class.Implements",function(n){var t=T("IA1",null,function(){}),e=T("IA2",null,function(n,t){n.m1=Function,t.constructor=A(Boolean)}),r=T("IA3",I(t,e),function(n,t){t.constructor=[A(String,Boolean),A(String,String,Boolean)]}),i=T("IA4",null,function(n,t){n.m1=Function,t.constructor=A(Boolean)}),o=R("C1",X,null,b(t,r),function(n,t){n.m1=function(){},t.constructor=h(Boolean,function(){}),t.constructor.define(String,Boolean,function(){}),t.constructor.define(String,String,Boolean,function(){})}),u=null;n(o instanceof Function,"检测是否能正确执行-1"),n(new o(!0)instanceof o,"检测是否能正确执行-2"),n(new o("A",!0)instanceof o,"检测是否能正确执行-3"),n(new o("A","B",!0)instanceof o,"检测是否能正确执行-5");try{new o}catch(c){u=Error}n(u===Error,"检测是否能正确执行-6"),n(o.implemented(t),"检测是否能正确执行-7"),n(o.implemented(e),"检测是否能正确执行-8"),n(o.implemented(r),"检测是否能正确执行-9"),n(t.implementIn(o),"检测是否能正确执行-10"),n(e.implementIn(o),"检测是否能正确执行-11"),n(r.implementIn(o),"检测是否能正确执行-12"),n(o.implemented(i)===!1,"检测是否能正确执行-13"),n(i.implementIn(o),"检测是否能正确执行-14"),n(new o(!0).instanceOf(t),"检测是否能正确执行-15"),n(new o(!0).instanceOf(e),"检测是否能正确执行-16"),n(new o(!0).instanceOf(r),"检测是否能正确执行-17"),n(new o(!0).instanceOf(i)===!1,"检测是否能正确执行-17")})),e.append(new _("Class.multiple",function(n){var t=T("I1",null,function(n,t){t.m1=A(String)}),e=T("I2",null,function(n,t){t.constructor=A(),t.m1=A(Boolean,String)}),r=R("AC1",L,null,b(e),function(n,t){t.constructor=A(String),t.m1=h(String,function(n){return n})}),i=R("AC2",L,I(r),null,function(n,t){t.constructor=A(String,n)}),o=R("C1",X,I(i),b(t,e),function(n,t){t.constructor=h(function(){}),t.constructor.define(String,function(){}),t.constructor.define(String,i,function(){}),t.m1.define(Boolean,String,function(){})}),c=null,s=null;n(o instanceof Function,"检测是否正确执行-1"),n(o.implemented(t),"检测是否能正确执行-2"),n(o.implemented(e),"检测是否能正确执行-3"),n(o.implemented(r),"检测是否能正确执行-4"),n(o.implemented(i),"检测是否能正确执行-5"),n(o.extended(r),"检测是否能正确执行-6"),n(o.extended(i),"检测是否能正确执行-7"),n(new o instanceof o,"检测是否能正确执行-8"),n(new o("A")instanceof o,"检测是否能正确执行-9"),n(new o("A",new o)instanceof r,"检测是否能正确执行-10"),n("A"===(new o).m1("A"),"检测是否能正确执行-11"),n((new o).m1(!0,"A")===u,"检测是否能正确执行-12");try{c=R("C2",X,I(o),null,function(n,t){t.constructor=function(){}})}catch(l){s=Error}n(s===Error,"检测是否能正确执行-13")})),f.append(e)}(),void function(){var n=new _("Tools"),t=0,e=1,r=-1,i=-2,o=null;o=T("IEvent",null,function(n,t){t.constructor=[A(String,w(Object))],t.stopPropagation=Function}),R("EvnetListeners",X,null,null,function(n,t){P=this,t.constructor=function(n,t){this._relate_event_type=n,this._target=t,this._handlers=[],this._processing=[]},t.notify=function(n,t){var e=null;for(this._processing=this._handlers.slice();e=this._processing.shift();)e.apply(t,n)},t.add=function(n){this._handlers.push(n)},t.remove=function(n){if(n){for(var t=this._handlers,e=0,r=0,i=t.length;i>r;r++)t[r]!==n&&(t[e++]=t[r]);t.length=e,this._processing.length&&(this._processing=t)}else this._handlers.length=0,this._processing.length=0},t.cancle=function(){this._processing.length=0}}),n.append(new _("EventListener",function(n){function t(){r=1e6}var e=new P("e1",{}),r=0;e.add(function(){r=1}),e.add(function(){r+=1}),e.add(function(n){r-=n}),e.add(t),e.remove(t),n(e instanceof P,"检测是否能正确执行-1"),e.notify([1],null),n(1===r,"检测是否能正确执行-2"),e.notify([2],null),n(0===r,"检测是否能正确执行-3"),e.remove(),e.notify([1e4],null),n(0===r,"检测是否能正确执行-4")})),R("Event",X,null,b(o),function(n,t){M=this,t.constructor=h(String,w(Object,{}),function(n,t){p.mix(this,t,!0),this.name=n,this.listener=new P(n,this)}),t.stopPropagation=function(){this.listener.cancle()}}),R("EventSource",X,null,null,function(n,t){F=this,t.constructor=function(){this._events={}},t.dispatchEvent=h(C(M),function(n){for(var t=this._events,e=0,r=n.length;r>e;e++){var i=n[e];t[i.name]=i}}),t.fireEvent=h(String,w(Array,null),w(Object,null),function(n,t,e){var r=this._events[n];r instanceof M&&r.listener.notify(t||[],e||this)}),t.addEventListener=h(Function,function(n){p.forEach(this._events,!0,function(t){t instanceof M&&t.listener.add(n)})}),t.addEventListener.define(String,Function,function(n,t){var e=this._events[n];e instanceof M&&e.listener.add(t)}),t.addOnceEventListener=function(n,t){var e=this;this.addEventListener(n,function(){t.apply(this,arguments),e._events[n].listener.remove(arguments.callee)})},t.removeEventListener=h(w(String),w(Function),function(n,t){if(""==n)p.forEach(this._events,!0,function(n){n instanceof M&&n.listener.remove(t)});else{var e=this._events[n];e instanceof M&&e.listener.remove(t)}}),t.getEvent=function(n){var t=this._events[n];return t instanceof M?t:null},t.on=t.addEventListener,t.once=t.addOnceEventListener,t.un=t.removeEventListener}),n.append(new _("EventSource",function(n){function t(){i=this.value}function e(){i=1e4}var r=new F,i=0;r.dispatchEvent(new M("e1"),new M("e2"),new M("e3")),r.addEventListener("e1",function(){i=0}),r.value=0,r.on("e1",function(){i++}),r.on("e2",function(n){i+=n}),r.on("e3",t),r.fireEvent("e1"),n(r instanceof F,"检测是否能正确执行-1"),n(1===i,"检测是否能正确执行-2"),r.fireEvent("e2",[1]),n(2===i,"检测是否能正确执行-3"),r.fireEvent("e3"),n(0===i,"检测是否能正确执行-4"),r.fireEvent("e3",[]),n(0===i,"检测是否能正确执行-5"),r.fireEvent("e3",[],{value:10}),n(10===i,"检测是否能正确执行-6"),r.fireEvent("e3",{value:10}),n(10===i,"检测是否能正确执行-7"),r.removeEventListener("e3",t),r.fireEvent("e3"),n(10===i,"检测是否能正确执行-8"),r.un("e1"),r.fireEvent("e1"),n(10===i,"检测是否能正确执行-9"),r.addOnceEventListener("e1",function(){i+=10}),r.fireEvent("e1"),n(20===i,"检测是否能正确执行-10"),r.fireEvent("e1"),n(20===i,"检测是否能正确执行-11"),r.un("e1"),i=0,r.on("e1",function(){i=1}),r.on("e1",function(){i+=1}),r.on("e1",function(){i+=1,r.un("e1",e)}),r.on("e1",e),r.on("e1",function(){i+=1,r.getEvent("e1").stopPropagation()}),r.on("e1",function(){i=-1}),r.on("e1",function(){i=-1}),r.fireEvent("e1"),n(4===i,"检测是否能正确执行-12")})),R("Deferred",X,I(F),null,function(n,o){j=this,n.DSTATE_UNFULFILLED=t,n.DSTATE_FULFILLED=e,n.DSTATE_REJECTED=r,n.DSTATE_ERROR=i,o.constructor=function(){var n=this;this.Super("constructor"),this._state=t,this._value=null,this._error=null,this.dispatchEvent(new M("stateChange",{target:this}),new M("resolved",{target:this}),new M("rejected",{target:this}),new M("done",{target:this})),this.__COX_DEFERRED_ERROR__=function(t){var e=new Error(t);n._state=i,n._error=e,n.fireEvent("stateChange",[i]),n.fireEvent("rejected",[n._value,e]),n.fireEvent("done",[!1,n._value,e]),n.getEvent("resolved").stopPropagation()}},o.then=h(Function,w(Function),function(n,o){switch(this._state){case t:this.addOnceEventListener("resolved",n),o&&this.addOnceEventListener("rejected",o);break;case e:n.call(this,this._value,this.__COX_DEFERRED_ERROR__);break;case i:case r:o&&o.call(this,this._value,this._error)}}),o.done=h(C(Function),function(n){function r(t,e,r){S.forEach(n,function(n){return n.call(o,t,e,i,r),!c})}function i(){c=!0,u.stopPropagation()}var o=this,u=this.getEvent("done"),c=!1;this._state===t?this.addOnceEventListener("done",r):r(this._state===e,this._value,this._error)}),o.resolved=function(n){var r=this.getEvent("resolved");if(this._state!==t)throw new Error("非法操作:");this._state=e,this._value=n,this.fireEvent("stateChange",[e]),this.fireEvent("resolved",[n,this.__COX_DEFERRED_ERROR__,function(){r.stopPropagation()}]),!this._error&&this.fireEvent("done",[!0,n])},o.rejected=function(n){if(this._state!==t)throw n instanceof Error?n:new Error("非法操作");this._state=r,this._value=n,this.fireEvent("stateChange",[r]),this.fireEvent("rejected",[n]),this.fireEvent("done",[!1,n])},o.getValue=function(){return this._value},o.isDone=function(){return this._state!==t},o.isResolved=function(){return this._state===e},o.isRejected=function(){return this._state===r}}),n.append(new _("Deferred",function(n){var t=new j,e=[],r=null;n(t instanceof j,"检测是否能正确执行-1"),n(t instanceof F,"检测是否能正确执行-2"),t.then(function(){e.push(1)}),t.then(function(){e.push(2)}),t.done(function(){e.push(3)}),t.resolved(10),t.then(function(){e.push(4)}),t.done(function(){e.push(5)}),n("12345"===e.join(""),"检测是否能正确执行-3"),e.length=0,t=new j,t.then(function(){e.push(1)}),t.then(function(n,t,r){e.push(2),r()}),t.then(function(){e.push(3)}),t.then(function(){e.push(4)}),t.done(function(){e.push(5)}),t.resolved(10),n("125"===e.join(""),"检测是否能正确执行-4"),n(t.isDone()===!0,"检测是否能正确执行-5"),n(10===t.getValue(),"检测是否能正确执行-6"),n(t.isResolved()===!0,"检测是否能正确执行-7"),n(t.isRejected()===!1,"检测是否能正确执行-8"),t=new j,e=5,t.then(function(){},function(){e--}),t.then(function(){},function(){e-=2}),t.then(function(){},function(){e-=2}),t.done(function(){e++}),t.rejected(1),n(1===e,"检测是否能正确执行-9"),t=new j,e=0,r=0,t.done(function(){r++},function(){r++}),t.then(function(n,t){t("error")}),t.then(function(){e=10},function(n,t){t&&(e+=5)}),t.then(function(){e+=5},function(n){e-=n}),t.done(function(n,t){e+=t}),t.done(function(n,t,e){r++,e()},function(){r++}),t.resolved(10),n(5===e,"检测是否能正确执行-10"),n(3===r,"检测是否能正确执行-11")})),R("DeferredList",X,I(j),null,function(n,i){function o(n){function t(){n.splice(S.indexOf(this),1),this.isResolved()?i._resolved_list.push(this):i._rejected_list.push(this),0===n.length&&(0===i._rejected_list.length?(i._state=e,i.getValue(),i.fireEvent("stateChange",[e]),i.fireEvent("resolved",[i._value,i.__COX_DEFERRED_ERROR__,function(){i.getEvent("resolved").stopPropagation()}]),!i._error&&i.fireEvent("done",[!0,i._value])):(i._state=r,i.getValue(),i.fireEvent("stateChange",[r]),i.fireEvent("rejected",[i._value]),i.fireEvent("done",[!1,i._value])))}var i=this,n=n.slice();if(0===n.length)throw new Error("DeferredList类构造器参数列表中至少需要一个参数.");this.Super("constructor"),this._deferred_list=n.slice(),this._resolved_list=[],this._rejected_list=[],S.forEach(this._deferred_list,function(n){n.done(t)})}U=this,i.constructor=h(C(j),o),i.constructor.define(Array,o),i.resolved=function(n){var e=this._deferred_list;if(this._state!==t)throw new Error("DeferredList类实例的resolved方法，只能在DeferredList 类实例的状态在未完成时才能被调用.");for(var r=0,i=e.length;i>r;r++){var o=e[r];o.isDone()||o.resolved(n)}},i.rejected=function(n){var e=this._deferred_list;if(this._state!==t)throw new Error("DeferredList类实例的rejected方法，只能在DeferredList 类实例的状态在未完成时才能被调用.");for(var r=0,i=e.length;i>r;r++){var o=e[r];o.isDone()||o.rejected(n)}},i.getValue=function(){return this.isDone()?this._value=this._value||S.map(this._deferred_list,function(n){return n.getValue()}):null},i.getDeferredList=function(){return this._deferred_list}}),n.append(new _("DeferredList",function(n){var t=new j,e=new j,r=new j,i=new U(t,e,r),o=0;t.then(function(){o++},function(){o--}),e.then(function(){o+=2},function(){o-=2}),r.then(function(){o+=3},function(){o-=3}),i.done(function(){o+=10}),i.resolved(10),n(16===o,"检测是否能正确执行-1"),n("101010"===i.getValue().join(""),"检测是否能正确执行-2"),t=new j,e=new j,r=new j,o=0,t.then(function(){o++},function(){o--}),e.then(function(){o+=2},function(){o-=2}),r.then(function(){o+=3},function(){o-=3}),i.done(function(){o+=10}),i=new U(t,e,r),i.rejected(10),n(4===o,"检测是否能正确执行-3"),t=new j,e=new j,r=new j,o=0,t.then(function(){o++},function(){o--}),e.then(function(n,t){t("err")},function(){o-=2}),r.then(function(){o+=3},function(){o-=3}),i.done(function(){o+=10}),i=new U(t,e,r),i.resolved(10),n(12===o,"检测是否能正确执行-4"),t=new j,e=new j,r=new j,o=0,t.then(function(n){o+=n},function(){}),e.then(function(n){o+=n},function(){}),r.then(function(n){o+=n},function(){}),i=new U(t,e,r),i.then(function(){o++}),i.then(function(n,t,e){e()}),i.then(function(){o=0}),i.done(function(){o++}),t.resolved(1),e.resolved(2),r.resolved(3),n(8===o,"检测是否能正确执行-5"),t=new j,e=new j,r=new j,o=0,t.then(function(n){o+=n},function(){}),e.then(function(n){o+=n},function(){}),r.then(function(n){o+=n},function(){}),i=new U(t,e,r),i.then(function(){o++},function(){o--}),i.then(function(n,t,e){e()}),i.then(function(){o=0},function(){o--}),i.done(function(){o++}),t.resolved(1),e.rejected(2),r.resolved(3),n(3===o,"检测是否能正确执行-6"),t=new j,e=new j,r=new j,o=0,t.then(function(n){o+=n},function(){}),e.then(function(n){o+=n},function(){}),r.then(function(n){o+=n},function(){}),i=new U(t,e,r),i.then(function(){o++},function(){o--}),i.then(function(n,t){t("error")}),i.then(function(){o=0},function(){o--}),i.done(function(n,t,e){o++,e()},function(){o++}),t.resolved(1),e.resolved(2),r.resolved(3),n(6===o,"检测是否能正确执行-6")})),f.append(n)}(),void function(){function t(n){var t=0;root="/"===n.charAt(0)?"/":"",n=o(n),n=n.split("/");for(var e=0,r=n.length;r>e;e++){var i=n[e];switch(i){case"":case".":break;case"..":t>0&&t--;break;default:n[t++]=i}}return n.length=t,n.unshift(""),root+n.join("/")}function r(n){var t;return n=o(n),t=n.lastIndexOf("/"),n=-1!==t?n.slice(0,t)||"/":""}function i(n){var t=n.match(a);return t=t&&t[0]||"",[t,n.replace(t,"")]}function o(n){return y.lastIndex=0,n.replace(y,"/")}function u(n){var e=n.depend,i=e&&e.modules||{},o=r(n.url||""),c={};return function(e){var s=c[e],l=null;if(s instanceof P||p.forEach(i,!0,function(n,r){var i=n.url||n.id;return r===e||i.slice(0-e.length)===e||i.slice(0-e.length-3)===e+".js"||t(i)===t(o+"/"+e)?(s=c[e]=n,!1):void 0}),!(s instanceof P))throw new Error("请求的 "+e+" 模块未被加载或未在 "+(n.uri||"当前执行")+" 模块的依赖列表中声明.");if(!s.isResolved()&&s.isRejected())throw new Error(e+" 模块由于未被准备好或该模块是一个不可用模块，导致无法被正常使用.");return s.exports||(s.exports={}),"function"!=typeof s.define?s.exports:(l=s.define,delete s.define,s.__define=l,l(u(s),s.exports,s,s.url,r(s.url)),s.exports)}}var l=/(?:https?|file):\/{2,3}([^\?#]+).*$/i,a=/^\w+:\/{2,3}/,v=/^(\w+:\/{2,3}[^\/]+)/,m=/^(.*)\/.*$/,E=/^[\w.]+$/,y=/\\{1,}/g,w=/\s*;\s*/,C=/\s*=\s*/,A=null,b=null,T=null,N=null,X=null,L=null,P=null,Y=null,H={debug:!1,roots:{}},q=null,G=function(){var n=(new Date).getTime();return function(){return n++}}();if(s)A=e.document.documentElement,b=e.location.href,T=b.match(a)[0],N=b.match(v)[1],L=b.match(m)[1],X=".js";else{if(!c)throw new Error("Cox 未在该环境中提供兼容支持");T="",N=r(require.main.filename),L=N,X=""}if(H.roots["~/"]=L,H.roots["~/Cox"]=(c?o(__dirname):L)+"/modules",Y=R("ModuleCenter",x,I(F),null,function(n,t){function e(n,t){var e=n[t];return e instanceof P?e:null}function r(n,t){var e=null;return p.forEach(n,!0,function(n,r){return t(n,r)?(e=n,!1):void 0}),e}var i={},o={},u={},s=c?require.cache:{},l=null;l=[!c&&function(){function n(n){function t(){(r.addEventListener||"loaded"===r.readyState||"complete"===r.readyState)&&(delete o[n.id],i[n.id]=n,n.loaded.isDone()||(n.loaded.resolved(),n.resolved()),r.removeEventListener?(r.removeEventListener("load",t,!1),r.removeEventListener("error",t,!1)):r.detachEvent("onreadystatechange",t))}function e(){delete o[n.id],r.removeEventListener?(r.removeEventListener("load",t,!1),r.removeEventListener("error",e,!1)):(r.detachEvent("onreadystatechange",t),r.detachEvent("error",e)),n.loaded.rejected()}var r=document.createElement("script"),u=n.url;u&&(r.addEventListener?(r.addEventListener("load",t,!1),r.addEventListener("error",e,!1)):r.attachEvent("onreadystatechange",t),r.setAttribute("type","text/javascript"),r.setAttribute("charset","utf-8"),r.setAttribute("async","true"),r.setAttribute("defer","true"),r.setAttribute("src",u),A.firstChild.insertBefore(r,null))}var t=document,e=new j;return t.addEventListener?t.addEventListener("DOMContentLoaded",function(){t.removeEventListener("DOMContentLoaded",arguments.callee,!1),e.resolved()},!1):t.attachEvent("onreadystatechange",function(){/^c/.test(t.readyState)&&(t.detachEvent("onreadystatechange",arguments.callee),e.resolved())}),function(t){e.then(function(){n(t)})}}(),function(n){var t=null;try{t=require(n.url||n.id),i[n.id]=n}catch(e){throw n.loaded.rejected(),n.rejected(),e}finally{delete o[n.id]}n.loaded.isDone()||n.loaded.resolved(),n.isEmpty()&&(n.define=function(n,e,r){r.exports=t},n.resolved())}][~~c],t.constructor=function(){this.Super("constructor"),this.dispatchEvent(new M("loading"),new M("loaded"),new M("error"))},t.pending=function(){function n(t,e,r){var i=e.depend&&e.depend.modules,o=[];if(i&&p.forEach(i,!0,function(n,e){n=Y.getModule(n.id)||n,i[e]=n,e=n.id,e===t.id||r.list[e]instanceof P||(r.list[e]=n,r.length++,o.push(n))}),o.length&&S.forEach(o,function(e){e.loaded.then(function(){r.length--,n(t,e,r)},function(n){t.rejected(n)})}),0===r.length&&null===r.wait)if(r.wait=1,t.isMain()){var u=[];t.depend&&p.forEach(t.depend.modules,!0,function(n){n instanceof P&&u.push(n)}),new U(u).then(function(){t.resolved()},function(n){t.rejected(n)})}else t.resolved()}return function(t){var e={module:t,list:{},length:0,wait:null},r=Y.getEvent("loaded"),i=Y.getEvent("loading"),c=Y.getEvent("error");u[t.uid]=e,t.done(function(){delete u[t.uid]}),t.depend&&t.depend.modules&&p.forEach(t.depend.modules,!0,function(n,e){Y.exists(n)?t.depend.modules[e]=n=Y.getModule(n.id):(n.__COX_MODULE_MAIN__=t.__COX_MODULE_MAIN__||t,o[n.id]=n,l(n),i.target=n,Y.fireEvent("loading",[i]),n.loaded.then(function(){r.target=n,Y.fireEvent("loaded",[r])},function(){c.target=n,Y.fireEvent("eerror",[c])}))}),n(t,t,e)}}(),t.exists=function(n){return this.loaded(n)||this.loading(n)},t.loaded=function(n){return n&&i[n.id]instanceof P},t.loading=function(n){return n&&o[n.id]instanceof P},t.getModule=function(n){var t=null;return t=i[n],t=t instanceof P?t:o[n],t instanceof P?t:null},t.findInLoading=h(String,function(n){return e(o,n)}),t.findInLoading.define(Function,function(n){return r(o,n)}),t.findInLoaded=h(String,function(n){return e(i,n)}),t.findInLoaded.define(Function,function(n){return r(i,n)}),t.findInCache=h(String,function(n){return e(s,n)}),t.findInCache.define(Function,function(n){return r(s,n)})}).getInstance(),R("Module",D,I(j),null,function(n,e){function r(n,e){var r=i(n);return n=r[1],r=r[0],r+t(n+"/"+e).slice(1)+X}P=this;var o=[{pattern:/^\w+:\/{2,3}[\S]+$/,resolve:function(n){return n}},{pattern:/^~\/.+$/,resolve:function(n){var t="~/";return S.forEach(n.slice(2).split("/"),function(n){return t+n in H.roots?(t+=n,!1):void 0}),r(H.roots[t],n.slice(t.length))}},{pattern:/^(?:\.{1,2}?\/|\/).+$/,resolve:function(n,t){return"/"===n.charAt(0)&&(t=N),r(t,n)}},{pattern:/^[\S]+$/,resolve:function(){return""}},{pattern:/^[A-Za-z]\:.+$/,resolve:function(n){return n}}];c&&(r=function(n,e){return t(n+"/"+e).slice(1)}),n.resolve=function(n,t){var e="",r={};return t=t||L,n&&S.forEach(o,function(r){return r.pattern.test(n)===!0?(e=r.resolve(n,t),!1):void 0},this),r.id=e||n,r.url=e,r},e.constructor=function(n,t,e,r){this.Super("constructor"),this.setUri(n,t),this.exports={},this.loaded=new j,this.depend=e,this.define=r,this.uid="MODULE#"+G(),this.__COX_MODULE_MAIN__=null},e.setUri=function(n,t){n=g.trim(n||""),t=O(String,t)?t:H.roots["~/"],p.mix(this,P.resolve(n,t),!0)},e.isMain=function(){return this===this.__COX_MODULE_MAIN__},e.isEmpty=function(){return!this.depend&&!this.define}}),W=d("Modules",d.SUBSIDIARY,n(function(n){this.setModules(n)})),W.prototype.setModules=function(n,t){var e={};this._uris=n,this._root=t=t||L,S.forEach(n,function(n){var r,i;e[n]instanceof P||(r=P.resolve(n,t),i=r.id,e[n]=Y.getModule(i)||new P(n,t))}),this.modules=e},W.prototype.setRoot=function(n){this._root=n,this.setModules(this._uris,n)},W.addRoot=function(n,e){l.test(e)===!1&&(e="/"===e.charAt(0)?N+t(e):N+t((L+"/"+e).replace(N,""))),H.roots["~/"+n]=e},W.removeRoot=function(n){""===n?H.roots["~/"]=L:delete H.roots["~/"+n]},W.getRoot=function(n){return H.roots["~/"+(n||"")]||null},W.ModuleCenter=Y,k=d("Define",d.TOOL,function(n,t,e){var i=null,n=g.trim(n),s=new RegExp("/"+n+"(?:.js|.JS)?$");if(!(O(String,n)?n:"").length||!E.test(n))throw new Error("无效的模块标识符");if(!e)throw new Error("需要一个Function类型实例来完成模块的定义");if(i=Y.findInLoading(n)||Y.findInLoading(function(n,t){return s.test(t)}),!i){if(c&&(i=Y.findInCache(function(n,t){return s.test(o(t))&&!n.loaded}))){var l=r(i.filename);if(t)B(t,l,function(n,t){e(n,t.exports,t),i.exports=t.exports});else{var a=new P(n,l,t,e);a.loaded.resolved(),a.resolved(),a.__COX_MODULE_MAIN__=a,e(u(a),a.exports,a),i.exports=a.exports}return!1}i=new P(n,"")}t&&t.setRoot(r(i.url)),i.define=e,i.depend=t,i.loaded.resolved(),Y.pending(i)}),B=d("Use",d.TOOL,function(n,e,r){var i=null;return e&&(l.test(e)||(e=t(H.roots["~/"]+"/"+e).substr(1)),n.setRoot(e)),i=new P("","",n),i.then(function(){r(u(i),i)}),i.__COX_MODULE_MAIN__=i,i.loaded.resolved(),Y.pending(i),i}),s){var V=e.document.getElementsByTagName("SCRIPT");S.forEach(V,function(n){var t=n.getAttribute("cox-path");if(null!==t){var n=null;for(t=g.trim(t).split(w);n=t.shift();)kv=n.split(C),1===kv.length?W.addRoot("",kv[0]):W.addRoot(kv[0],kv[1]);return!1}})}q=new _("AMD",function(n,t,e){t(),B(W(["./A","./B"]),"",function(t){n(t("A"),"检测是否能正确执行-1"),n("A"===t("A").name,"检测是否能正确执行-2"),n(t("B"),"检测是否能正确执行-3"),n("B"===t("B").name,"检测是否能正确执行-4"),e()})}),f.append(q)}(),e.Cox=l,e.XObject=l.XObject=p,e.XString=l.XString=g,e.XList=l.XList=S,e.is=l.is=O,e.Nullable=l.Nullable=y,e.Optional=l.Optional=w,e.Params=l.Params=C,e.ParamTypeTable=l.ParamTypeTable=A,e.Implements=l.Implements=b,e.Extends=l.Extends=I,e.Abstract=l.Abstract=L,e.Single=l.Single=x,e.Finaly=l.Finaly=D,e.XFunction=l.XFunction=h,e.UTest=l.UTest=_,e.Deferred=l.Deferred=j,e.DeferredList=l.DeferredList=U,e.forEach=l.forEach=h(Array,Function,w(Object),S.forEach),e.Iterator=l.Iterator=T("Iterator",null,function(n,t){t.hasNext=Function,t.next=Function,t.reset=Function}),e.forEach.define(l.Iterator,Function,w(Object),function(n,t,e){for(;n.hasNext()&&t.call(e||null,n.next(),n)!==!1;);}),e.forEach.define(Object,w(Boolean,!0),Function,w(Object),p.forEach),e.Class=l.Class=h(w(String),w(N,X),w(I),w(b),Function,R),e.Interface=l.Interface=h(String,w(I),Function,T),e.Define=l.Define=h(String,w(W),Function,k),e.Modules=l.Modules=h(Params(String),W),e.Modules.define(Array,W),e.Use=l.Use=h(W,w(String),Function,B),e.Use.define(Array,Function,function(n,t){return B(W(n),"",t)}),e.Use.define(String,Function,function(n,t){return B(W([n]),"",t)}),e.Depend=l.Modules,l.Event=M,l.EventListener=P,l.EventSource=F,l.PlainObject=v,l.ownDocument=e.document,l.ownWindow=e,p.mix(e.Modules,W,!0),"undefined"!=typeof exports&&(module.exports=l)}();