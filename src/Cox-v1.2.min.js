void function(){function y(a,b){var c=function(){var b=P(c.prototype);a.apply(b,arguments);return b},d=null,e=a.toString();b&&(c.prototype=P(b));d=c.prototype;d.constructor=c;c.toString=function(){return e};return c}var w=Array.prototype.slice,i=function(){return this}(),Y=function(){},ka=/\{(\d+)\}/g,Z=/\s/,Q="function"===typeof require&&global.require!==require,$="object"===typeof window&&window===i,j={VERSION:"1.1.0"},P=null,f=null,l=null,o=null,v=null,k=null,R=null,da=null,S=null,t=null,V=null,
m=null,A=null,u=null,C=null,G=null,x=null,D=null,z=null,K=null,E=null,T=null,F=null,s=null,ea=null,aa=null,L=null,fa=null,M=null,W=null,p=null;if(!(R=Object.create))var la=function(){},R=function(a){la.prototype=a;return new la};var P=R,ma={Tool:{},DataType:{},ParamTypeModifier:{},Subsidiary:{}},ga={},f=function(a,b,c){var d=null,b=ma[b||f.TOOL],a="__Cox_"+a+"__",d=ga[a]||(ga[a]={});c.__COX_KEYWORD_NAME__=a;c.__COX_SIGN__=a;d.name=a;d[c.toString()]=c;b[a]=d;return c};f.TOOL="Tool";f.DATATYPE="DataType";
f.PARAM_TYPE_MODIFIER="ParamTypeModifier";f.SUBSIDIARY="Subsidiary";f.Tool=function(a,b){return f(a,f.TOOL,b)};f.DataType=function(a,b){return f(a,f.DATATYPE,b)};f.ParamTypeModifier=function(a,b){return f(a,f.PARAM_MTYPE_MODIFIER,b)};f.Subsidiary=function(a,b){return f(a,f.SUBSIDIARY,b)};f.__instancelike__=function(a,b){var c=null;if(!("function"==typeof a&&a.__COX_KEYWORD_NAME__))return!1;c=ga[a.__COX_KEYWORD_NAME__];return!(c&&a.toString()in c)||b&&(b=ma[b],!(c.name in b))?!1:!0};void 0;var ha=
!(i.ActiveXObject&&i.document&&8>=~~i.document.documentMode)&&[]||"constructor toString valueOf toLocaleString prototype isPrototypeOf propertyIsEnumerable hasOwnProperty length unique".split(" "),ua={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"},na=/[\\\"\x00-\x1f]/g,R=f("PlainObject",f.DATATYPE,function(){return{}});R.__instancelike__=function(a){return a&&a.constructor===Object};S=f("Type",f.DATATYPE,function(){return Function.apply(null,arguments)});
S.__instancelike__=function(a){return!!a&&("function"===typeof a||"function"===typeof a.__instancelike__)};da=f("Null",f.DATATYPE,function(){return null});da.__instancelike__=function(a){return null===a||void 0===a};l=f("XObject",f.DATATYPE,y(function(){}));l.create=P;l.forEach=[function(a,b,c,d){var b=!!b,e;for(e in a)if((!b||a.hasOwnProperty(e))&&!1===c.call(d,a[e],e,a))break},function(a,b,c,d){var e={},b=!!b,g;for(g in a)if(!b||a.hasOwnProperty(g))if(e["__"+g]=a,!1===c.call(d,a[g],g,a))break;for(b=
ha.length-1;0<=b&&!(g=ha[b],a.hasOwnProperty(g)&&e["__"+g]!==a&&!1===c.call(d,a[g],g,a));b--);}][ha.length?1:0];l.mix=function(a,b,c,d){a=a||{};c=!!c;d=void 0===d?b.constructor!=a.constructor:!!d;l.forEach(b,!d,function(b,d){if(c||!(d in a))a[d]=b});return a};l.keys=function(a){var b=[];l.forEach(a,!0,function(a,d){b.push(d)});return b};v=f("XString",f.DATATYPE,function(a){return new String(a)});v.trim=function(a){for(var b=-1,c=a.length;Z.test(a.charAt(++b)););for(;c>b&&Z.test(a.charAt(--c)););return a.slice(b,
c+1)};v.leftTrim=function(a){for(var b=-1;Z.test(a.charAt(++b)););return a.slice(b)};v.rightTrim=function(a){for(var b=a.length;0<b&&Z.test(a.charAt(--b)););return a.slice(0,b+1)};v.format=function(a){var b=w.call(arguments,1);ka.lastIndex=0;return a.replace(ka,function(a,d){return b[d]})};v.quote=function(a){var b=null;na.lastIndex=0;b=a.replace(na,function(a){var b=ua[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)});return'"'+b+'"'};v.startsWith=function(a,
b,c){return a.indexOf(b)==~~c};v.endsWith=function(a,b,c){c=(~~c||a.length)-b.length;return a.lastIndexOf(b)==c};v.__instancelike__=function(a){return a instanceof String||"string"===typeof a};k=f("XList",f.DATATYPE,function(){return Array.apply(null,arguments)});k.forEach=function(a,b,c){for(var d=0,e=a.length;d<e;d++){var g=b.call(c,a[d],d,a);if(!1===g)break;else"number"===typeof g&&(d=~~g)}};k.indexOf=function(a,b){for(var c=-1,d=0,e=a.length;d<e;d++)if(a[d]===b){c=d;break}return c};k.lastIndexOf=
function(a,b){for(var c=a.length-1;0<=c;c--)if(a[c]===b)return c;return-1};k.unique=function(a){var b=[],c=0,d=0,e=a.length;a:for(;d<e;d++){for(var g=a[d],h=0;h<c;h++)if(g===b[h])continue a;b[c++]=g}return b};k.xUnique=function(a){for(var b={},c=[],d=0,e=0,g=a.length;e<g;e++){var h=a[e];1!==b[h]&&(c[d++]=h,b[h]=1)}return c};k.map=function(a,b,c){for(var d=[],e=0,g=a.length;e<g;e++)d[e]=b.call(c,a[e],e,a);return d};k.filter=function(a,b,c){for(var d=[],e=0,g=a.length;e<g;e++)b.call(c,a[e],e,a)&&d.push(a[e]);
return d};k.reduce=function(a,b,c,d){var e=0,g=a.length;if(3>arguments.length){if(0===g)return!1;c=a[e++]}for(;e<g;e++)c=b.call(d,c,a[e],e,a);return c};k.some=function(a,b,c){for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d,a))return!0;return!1};k.every=function(a,b,c){for(var d=!0,e=0,g=a.length;e<g&&!(d=d&&b.call(c,a[e],e,a));e++);return d};k.remove=function(a,b){for(var c=0,d=a.length,e=0;e<d;e++)a[e]!==b&&(a[c++]=a[e]);a.length=c;return a};k.shuffle=function(a){for(var b=a.slice(),a=a.length;a;){var c=
~~(Math.random()*a);temp=null;temp=b[--a];b[a]=b[c];b[c]=temp}return b};k.__instancelike__=function(a){return a instanceof Array};t=function(a,b,c){if(!a)return!1;c=w.call(arguments).slice(1);if("function"===typeof a.__instancelike__)return a.__instancelike__.apply(a,c);if(null!==b&&void 0!==b&&a===Object)return!0;switch(typeof b){case "object":case "function":case "undefined":return"function"===typeof a&&b instanceof a;default:return b.constructor===a}};void 0;var oa=C=null,C={toString:function(){return this.__COX_SIGN__},
equals:function(a){return a===this}},V=f("Nullable",f.PARAM_TYPE_MODIFIER,y(function(a){if(!t(S,a))throw new TypeError("Nullable\u64cd\u4f5c\u7b26\u9700\u8981\u4e00\u4e2aFunction\u7c7b\u578b\u5b9e\u4f8b.");this.type=a;this.__COX_SIGN__="Nullable( "+(a.__COX_SIGN__||a.name||a.toString())+" )"},C));V.prototype.__instancelike__=function(a){return null===a||void 0===a||t(this.type,a)};m=f("Optional",f.PARAM_TYPE_MODIFIER,y(function(a,b){if(!t(S,a))throw new TypeError("Optional\u64cd\u4f5c\u7b26\u9700\u8981\u4e00\u4e2aFunction\u7c7b\u578b\u5b9e\u4f8b.");
if(1===arguments.length)switch(a){case Number:b=0;break;case String:b="";break;case Boolean:b=!1;break;case Object:b={};break;case Array:b=[];break;default:b=null}else if(!t(a,b)&&!t(da,b))throw new TypeError("Optional\u64cd\u4f5c\u7b26\u4e2d value\u53c2\u6570\uff08\u5982\u679c\u7ed9\u5b9a)\u7684\u503c\u7c7b\u578b\u5fc5\u987b\u4e0etype\u53c2\u6570\u7684\u7c7b\u578b\u5339\u914d.");this.type=a;this.value=b;this.__COX_SIGN__="Optional( "+((a.name||a.__COX_SIGN__||a.toString())+" )")},C));A=f("Params",
f.PARAM_TYPE_MODIFIER,y(function(a){if(!t(S,a))throw new TypeError("Params\u64cd\u4f5c\u7b26\u9700\u8981\u4e00\u4e2aFunction\u7c7b\u578b\u5b9e\u4f8b.");this.type=a;this.__COX_SIGN__="Params( "+(a.__COX_SIGN__||a.name||a.toString())+" )"},C));A.prototype.__instancelike__=function(a){if(!a||!(a instanceof Array))return!1;for(var b=0,c=~~a.length;b<c;b++)if(!t(this.type,a[b]))return!1;return!0};u=f("ParamTypeTable",f.SUBSIDIARY,y(function(){var a=arguments.length;this.maxParamCount=this.minParamCount=
0;this.optStartIndex=-1;for(var b=this.optEndIndex=0,c=a-1;b<=c;b++){var d=arguments[b];if(d instanceof V||d instanceof A&&b===c||t(S,d))this.minParamCount++,this.maxParamCount++;else if(d instanceof m)this.maxParamCount++;else throw new SynataxError("\u65e0\u6548\u7684\u53c2\u6570\u7c7b\u578b\u5217\u8868\u5b9a\u4e49");}arguments[a-1]instanceof A&&(this.minParamCount--,this.maxParamCount=Infinity);this.length=a;this.__types=w.call(arguments);this.__COX_SIGN__=k.map(arguments,function(a){return a.name||
a.toString()}).join(", ")}));u.prototype.parse=function(a){var a=a.slice(),b=a.length,c=this.__types.slice(),d=null,e=[];if(b<this.minParamCount||b>this.maxParamCount)return null;for(;d=c.shift();)if(d instanceof A){if(!t(d,a))return null;e.push(a)}else if(d instanceof m){var b=u.apply(null,c),g=c=null;a.length&&t(d.type,a[0])&&(g=a[0],c=b.parse(a.slice(1)));c||(g=d.value,c=b.parse(a));c?(e.push(g),e.push.apply(e,c)):e=null;break}else{if(!t(d,a[0]))return null;e.push(a.shift())}return e};u.prototype.equals=
function(){var a=arguments[0],b=arguments.length;if(1===b&&a instanceof u){if(a===this)return!0;if(a.length!==this.length||a.minParamCount!==this.minParamCount||a.maxParamCount!==this.maxParamCount)return!1;a=a.__types;b=a.length}else if(a=arguments,b!==this.length)return!1;for(var c=0;c<b;c++){var d=a[c];switch(d.constructor){case m:case V:case A:if(this.__types[c].constructor!==d.constructor||this.__types[c].type!==d.type)return!1;break;default:if(d!==this.__types[c])return!1}}return!0};u.prototype.toString=
function(){return this.__COX_SIGN__};oa={define:function(){var a=w.call(arguments),b=u.apply(null,a.slice(0,-1)),c=a[a.length-1],a=this.__COX_XFUNCTION_OVERLOAD_LIST__,d=a.length,e=a.length;if("function"!==typeof c)throw new TypeError("\u9700\u8981\u4e3a\u91cd\u8f7d\u63d0\u4f9b\u4e00\u4e2a\u80fd\u88ab\u6267\u884c\u7684\u5904\u7406\u7a0b\u5e8f");for(var g=0;g<d;g++)if(a[g].equals(b)){e=g;break}a[e]=b;b.__COX_BUILD_HANDLER__=c;this.__COX_SIGN__=[];g=0;b=a.length;for(c=this.__COX_XFUNCTION_NAME__;g<
b;g++)this.__COX_SIGN__.push(c+"("+a[g]+")");this.__COX_SIGN__=this.__COX_SIGN__.join("\n")},defined:function(){for(var a=this.__COX_XFUNCTION_OVERLOAD_LIST__,b=a.length,c=w.call(arguments),d=0;d<b;d++)if(a[d].equals.apply(a[d],c))return!0;return!1},clone:function(){var a=o(Y);a.__COX_XFUNCTION_OVERLOAD_LIST__=this.__COX_XFUNCTION_OVERLOAD_LIST__.slice();a.__COX_XFUNCTION_NAME__=this.__COX_XFUNCTION_NAME__;a.__COX_SIGN__=this.__COX_SIGN__;return a},toString:function(){return this.__COX_SIGN__}};o=
f("XFunction",f.DATATYPE,function(){var a=function(){for(var b=w.call(arguments),c=a.__COX_XFUNCTION_OVERLOAD_LIST__,d=null,e=null,g=0,h=c.length;g<h;g++){var H=c[g];if(e=H.parse(b)){d=H.__COX_BUILD_HANDLER__;break}}if(!d)throw Error("\u672a\u5b9a\u4e49\u4e0e\u5f53\u524d\u4f20\u9001\u53c2\u6570\u76f8\u5339\u914d\u7684\u5904\u7406\u7a0b\u5e8f");return d.apply(this,e)};a.__COX_XFUNCTION_OVERLOAD_LIST__=[];a.__COX_XFUNCTION_NAME__=a.__COX_SIGN__=arguments[arguments.length-1].name||"";l.mix(a,oa,!0);
a.define.apply(a,arguments);return a});o.bind=function(a,b,c){c=w.call(arguments).slice(2);return function(){return a.apply(b,c.concat.apply(c,arguments))}};o.memoize=function(a){var b={};return function(){var c=w.call(arguments).toString();return b.hasOwnProperty(c)?b[c]:b[c]=a.apply(this,arguments)}};void 0;var n=null,G=f("Extends",f.SUBSIDIARY,y(function(){this.parents=k.unique(w.call(arguments))})),C=f("Implements",f.SUBSIDIARY,y(function(){for(var a=k.unique(w.call(arguments)),b=a.length,c=0;c<
b;c++)if(!(a[c]instanceof x))throw new TypeError("\u65e0\u6548\u7684\u63a5\u53e3\u7c7b\u578b");this.interfaces=a})),x=f("Interface",f.DATATYPE,y(function(a,b,c){var d={},e={},g=[d,e];if(b){for(var h=0,H=b.parents.length;h<H;h++)if(!(b.parents[h]instanceof x))throw new TypeError("\u63a5\u53e3\u7c7b\u53ea\u5141\u8bb8\u6269\u5c55\u7531Interface\u64cd\u4f5c\u7b26\u521b\u5efa\u7684\u63a5\u53e3\u7c7b");b=b.parents}if(c&&"function"!==typeof c)throw new TypeError("\u63a5\u53e3\u7c7b\u53ea\u5141\u8bb8\u4f7f\u7528Function\u7c7b\u578b\u7684\u5b9e\u4f8b\u4f5c\u4e3a\u63a5\u53e3\u7c7b\u7684\u7c7b\u4f53\uff08\u63d0\u4f9b\u516c\u5171\u63a5\u53e3\u7684\u5b9a\u4e49\uff09");
this.__COX_INTERFACE_EXTENDS__=b||null;this.__COX_INTERFACE_CMETHODS__=d;this.__COX_INTERFACE_IMETHODS__=e;this.__COX_INTERFACE_NAME__=a=a||"anonymous";this.__COX_SIGN__="[Interface "+a+"]";d.prototype={};c.call(d,d,e);delete d.constructor;l.mix(e,d.prototype,!0);delete d.prototype;h=0;for(H=g.length;h<H;h++){var f=g[h];l.forEach(f,!0,function(a,b){if(a!==Function)if(a instanceof u)f[b]=[a];else if(a instanceof Array)for(var c=0,d=a.length;c<d;c++){if(!(a[c]instanceof u))throw new TypeError("\u65e0\u6548\u7684\u63a5\u53e3\u5b9a\u4e49");
}else throw new TypeError("\u65e0\u6548\u7684\u63a5\u53e3\u5b9a\u4e49");})}}));x.prototype.extended=function(a){var b=this.__COX_INTERFACE_EXTENDS__;if(!b||!(a instanceof x))return!1;if(-1!==k.indexOf(b,a))return!0;for(var c=0,d=b.length;c<d;c++)if(b[c].extended(a))return ret=!0;return!1};x.prototype.implementIn=function(a){var b=this,c=this.__COX_INTERFACE_EXTENDS__,d=this.__IGNORES__ instanceof Array?this.__IGNORES__:[],e="function"===typeof a?a:a.constructor,g=[{methods:this.__COX_INTERFACE_CMETHODS__,
obj:e},{methods:this.__COX_INTERFACE_IMETHODS__,obj:"function"===typeof a?a.prototype:a}];if(-1===k.indexOf(d,this))d.push(this);else return!0;if(c)for(var h=0,H=c.length;h<H;h++){var f=c[h];f.__IGNORES__=d;f.implementIn(a);delete f.__IGNORES__}for(;a=g.shift();)l.forEach(a.methods,!0,function(c,d){var g=a.obj[d];if(d in a.obj){if(typeof a.obj!=="function"&&d==="constructor"&&e.__COX_CLASS_CLASSINFO__)g=e.__COX_CLASS_CLASSINFO__.CONSTRUCTOR;if(c===Function&&typeof g!=="function")throw new TypeError(b+
"\u63a5\u53e3\u7c7b\u4e2d\u7684`"+d+"`\u63a5\u53e3\u4ee5\u975eFunction\u7c7b\u578b\u5b9e\u4f8b\u88ab\u5b9e\u73b0");if(c instanceof Array)for(var h=0,f=c.length;h<f;h++)if(typeof g!=="function"||typeof g.defined!=="function"||!g.defined(c[h]))throw new TypeError(b+"\u63a5\u53e3\u7c7b\u4e2d\u7684`"+d+"`\u63a5\u53e3\u672a\u88ab\u6b63\u786e\u5b9e\u73b0");}else throw Error(b+"\u63a5\u53e3\u7c7b\u4e2d\u7684`"+d+"`\u63a5\u53e3\u672a\u88ab\u5b9e\u73b0");});return!0};x.prototype.__instancelike__=function(a){if(!a||
"object"!==typeof a)return!1;try{return this.implementIn(a),!0}catch(b){return!1}};x.prototype.toString=function(){return this.__COX_SIGN__};D=f("ClassMode",f.SUBSIDIARY,y(function(a){this.__COX_CLASS_MODE_NAME__=a}));D.prototype.toString=function(){return this.__COX_CLASS_MODE_NAME__};D.prototype.newClass=Y;D.prototype.prefect=Y;K=D("Abstract");K.newClass=function(){return function(){throw new SynataxError("\u62bd\u8c61\u7c7b\u4e0d\u5141\u8bb8\u88ab\u5b9e\u4f8b\u5316\uff01");}};K.implementIn=function(a,
b){for(var c=a.__COX_CLASS_CLASSINFO__,d="function"===typeof b?b:b.constructor,c=[{methods:c.CLASS_METHODS,obj:d},{methods:c.INSTANCE_METHODS,obj:"function"===typeof b?b.prototype:b}];b=c.shift();)l.forEach(b.methods,!0,function(c,g){var h=b.obj[g];if(g in b.obj){if(typeof b.obj!=="function"&&g==="constructor"&&d.__COX_CLASS_CLASSINFO__)h=d.__COX_CLASS_CLASSINFO__.CONSTRUCTOR;if(c===Function&&typeof h!=="function")throw new TypeError(a+"\u62bd\u8c61\u7c7b\u4e2d\u7684`"+g+"`\u63a5\u53e3\u4ee5\u975eFunction\u7c7b\u578b\u5b9e\u4f8b\u88ab\u5b9e\u73b0");
if(c instanceof Array)for(var f=0,i=c.length;f<i;f++)if(typeof h!=="function"||typeof h.defined!=="function"||!h.defined(c[f]))throw new TypeError(a+"\u62bd\u8c61\u7c7b\u4e2d\u7684`"+g+"`\u63a5\u53e3\u672a\u88ab\u6b63\u786e\u5b9e\u73b0");}else throw Error(a+"\u62bd\u8c61\u7c7b\u4e2d\u7684`"+g+"`\u63a5\u53e3\u672a\u88ab\u5b9e\u73b0");});return!0};K.perfect=function(a){var b=a.CLASS,c=b.prototype,d=c.constructor,e=null,e={},g={},h=[{source:b,dest:e},{source:c,dest:g}];delete e.constructor;for(var f=
0,i=h.length;f<i;f++){var j=h[f].source,k=h[f].dest;l.forEach(j,!0,function(a,b){if(a===Function){k[b]=a;delete j[b]}else if(a instanceof u){k[b]=[a];delete j[b]}else if(a instanceof Array){for(var c=0,d=a.length;c<d;c++)if(!(a[c]instanceof u))return;k[b]=a;delete j[b]}})}a.CLASS_METHODS=e;a.INSTANCE_METHODS=g;if(d!==b&&g.constructor!==d&&!(d instanceof u))if("function"===typeof d)a.CONSTRUCTOR=d;else throw new TypeError("\u65e0\u6548\u7684\u6784\u9020\u51fd\u6570\u5b9a\u4e49");e=b.toString;l.mix(b,
n,!0);delete b.__COX_KEYWORD_NAME__;b.__COX_SIGN__="[Abstract Class "+a.NAME+"]";b.__COX_CLASS_CLASSINFO__=a;e!==n.toString&&(b.toString=e);delete b.constructor;b.prototype=c;b.implementIn=function(a){return K.implementIn(b,a)}};E=D("Single");E.newClass=function(a){return function(){return E.getInstance.apply(a.CLASS,arguments)}};E.getInstance=function(){var a=this.__COX_CLASS_CLASSINFO__;if(a.SINGLE_INSTANCE instanceof this)return a.SINGLE_INSTANCE;a.CONSTRUCTOR.apply(a.SINGLE_INSTANCE=P(this.prototype),
arguments);return a.SINGLE_INSTANCE};T=D("Finaly");T.newClass=function(a){return function(){if(this.constructor!==a.CLASS||!(this instanceof a.CLASS))throw Error(a.__CLASS__+"\u7c7b\u4e0d\u80fd\u5728\u5f53\u524d\u60c5\u51b5\u60c5\u51b5\u4e0b\u8fdb\u884c\u5b9e\u4f8b\u5316");a.CONSTRUCTOR.apply(this,arguments)}};z=D("Entity");z.newClass=function(a){return function(){a.CONSTRUCTOR.apply(this,arguments)}};E.perfect=T.perfect=z.perfect=function(a){var b=a.CLASS,c=b.prototype,d=c.constructor,e=null,e=b.toString;
l.mix(b,n,!0);a.MODE===E&&(b.getInstance=E.getInstance);e!==n.toString&&(b.toString=e);e=c.toString;l.mix(c,n.prototype,!0);delete b.__COX_KEYWORD_NAME__;a.SUPER&&b.implementIn===a.SUPER.implementIn&&delete b.implementIn;b.__COX_SIGN__="["+(a.MODE===z?"":a.MODE.__COX_CLASS_MODE_NAME__+" ")+"Class "+a.NAME+"]";b.__COX_CLASS_CLASSINFO__=a;e!==n.prototype.toString&&(c.toString=e);c.constructor=d;if(d!==b)if(d!==Function&&"function"===typeof d)a.CONSTRUCTOR=d;else throw new TypeError("\u5728\u7c7b\u5b9a\u4e49\u4e2d\u4e3a\u7c7b\u5b9e\u4f8b\u63d0\u4f9b\u7684constructor\u6210\u5458\u53ea\u5141\u8bb8\u8d4b\u503c\u4e3a Function\u7c7b\u578b\u5b9e\u4f8b");
b.prototype=c;c=0;for(d=a.IMPLEMENTS.length;c<d;c++)a.IMPLEMENTS[c].implementIn(b)};n=f("BaseClass",f.DATATYPE,y(Y,l.prototype));n.__COX_SIGN__="[Class BaseClass]";n.__COX_CLASS_CLASSINFO__={NAME:"BaseClass",MODE:z,SUPER:null,IMPLEMENTS:null,CLASS:n,CONSTRUCTOR:n,SINGLE_INSTANCE:null};n.implemented=function(a){var b=this.__COX_CLASS_CLASSINFO__;if(-1!==k.indexOf(b.IMPLEMENTS,a))return!0;for(var c=0,d=b.IMPLEMENTS.length;c<d;c++)if(b.IMPLEMENTS[c].extended(a))return!0;return!1};n.extended=function(a){return this.prototype instanceof
a};n.toString=function(){return this.__COX_SIGN__};n.prototype.Super=function(a,b){var b=w.call(arguments,1),c=this.constructor.__COX_CLASS_CLASSINFO__,d=null,e=null,g=null,d=null;if(!("string"===typeof a||a instanceof String))throw new TypeError("\u7c7b\u5b9e\u4f8b Super( key, args )\u65b9\u6cd5\u7684 key\u53c2\u6570\u9879\u53ea\u63a5\u53d7 String\u7c7b\u578b\u5b9e\u4f8b");a="constructor"===a||!a?"CONSTRUCTOR":a;this.__COX_CSLEVEL__||(this.__COX_CSLEVEL__=c.SUPER);d=this.__COX_CSLEVEL__;e=d.__COX_CLASS_CLASSINFO__;
if(d){if("CONSTRUCTOR"===a&&e)d=e[a];else{if(!(a in d.prototype))throw Error("\u5728 "+d+"\u7c7b \u4e2d\u6ca1\u6709\u5b9a\u4e49 `"+a+"`\u6210\u5458");d=d.prototype[a]}"function"===typeof d?(this.__COX_CSLEVEL__=e&&e.SUPER||null,g=d.apply(this,b)):(obj&&b.length&&(obj[a]=b[0]),g=obj[a])}delete this.__COX_CSLEVEL__;return g};n.prototype.instanceOf=function(a){return a instanceof x?this.constructor.implemented(a):this instanceof a};n.prototype.toString=function(){return this.__COX_SIGN__};F=f("Class",
f.DATATYPE,function(a,b,c,d,e){var g=null,h=null,a=a||e.name,c=c&&c.parents||[n],f=null,i={NAME:a,MODE:b,SUPER:null,IMPLEMENTS:null,CLASS:null,CONSTRUCTOR:null,SINGLE_INSTANCE:null},h=function(){this.Super.apply(this,["constructor"].concat(w.call(arguments)))},g=i.CLASS=b.newClass(i);if(1<c.length)throw new SynataxError("\u7c7b\u4e0d\u5141\u8bb8\u6269\u5c55\u591a\u4e2a\u7236\u7c7b");c=c[0]||n;if("function"!==typeof c)throw new TypeError("\u65e0\u6548\u7684\u6269\u5c55\u7c7b");if((f=c.__COX_CLASS_CLASSINFO__)&&
f.MODE===T)throw Error(c+"\u7c7b\u4e0d\u5141\u8bb8\u88ab\u6269\u5c55");f&&"function"===typeof f.CONSTRUCTOR&&(h=f.CONSTRUCTOR.clone?f.CONSTRUCTOR.clone():h);l.forEach(c,!0,function(a,b){g[b]=a&&typeof a.clone==="function"?a.clone():a});g.prototype=P(c.prototype);l.forEach(c.prototype,!0,function(a,b){a&&typeof a.clone==="function"&&(g.prototype[b]=a.clone())});d=d&&d.interfaces||[];g.prototype.constructor=h;e.call(g,g,g.prototype);delete g.constructor;i.IMPLEMENTS=k.xUnique(d.concat(f&&f.IMPLEMENTS||
[]));f.MODE===K&&i.IMPLEMENTS.push(c);i.SUPER=c;i.CONSTRUCTOR=h;b.perfect(i);g.prototype.constructor=g;g.prototype.__COX_SIGN__="[Object "+a+"]";return g});void 0;var I=1,N=-1,M=null,M=x("IEvent",null,function(a,b){b.constructor=[u(String,m(Object))];b.stopPropagation=Function});F("EvnetListeners",z,null,null,function(a,b){ea=this;b.constructor=function(a,b){this._relate_event_type=a;this._target=b;this._handlers=[];this._processing=[]};b.notify=function(a,b){var e=null;for(this._processing=this._handlers.slice();e=
this._processing.shift();)e.apply(b,a)};b.add=function(a){this._handlers.push(a)};b.remove=function(a){if(a){for(var b=this._handlers,e=0,g=0,h=b.length;g<h;g++)b[g]!==a&&(b[e++]=b[g]);b.length=e;this._processing.length&&(this._processing=b)}else this._handlers.length=0,this._processing.length=0};b.cancle=function(){this._processing.length=0}});F("Event",z,null,C(M),function(a,b){s=this;b.constructor=o(String,m(Object,{}),function(a,b){l.mix(this,b,!0);this.name=a;this.listener=new ea(a,this)});b.stopPropagation=
function(){this.listener.cancle()}});F("EventSource",z,null,null,function(a,b){aa=this;b.constructor=function(){this._events={}};b.dispatchEvent=o(A(s),function(a){for(var b=this._events,e=0,g=a.length;e<g;e++){var h=a[e];b[h.name]=h}});b.fireEvent=o(String,m(Array,null),m(Object,null),function(a,b,e){a=this._events[a];a instanceof s&&a.listener.notify(b||[],e||this)});b.addEventListener=o(Function,function(a){l.forEach(this._events,!0,function(b){b instanceof s&&b.listener.add(a)})});b.addEventListener.define(String,
Function,function(a,b){var e=this._events[a];e instanceof s&&e.listener.add(b)});b.addOnceEventListener=function(a,b){var e=this;this.addEventListener(a,function(){b.apply(this,arguments);e._events[a].listener.remove(arguments.callee)})};b.removeEventListener=o(m(String),m(Function),function(a,b){if(""==a)l.forEach(this._events,!0,function(a){a instanceof s&&a.listener.remove(b)});else{var e=this._events[a];e instanceof s&&e.listener.remove(b)}});b.getEvent=function(a){a=this._events[a];return a instanceof
s?a:null};b.on=b.addEventListener;b.once=b.addOnceEventListener;b.un=b.removeEventListener});F("Deferred",z,G(aa),null,function(a,b){L=this;a.DSTATE_UNFULFILLED=0;a.DSTATE_FULFILLED=I;a.DSTATE_REJECTED=N;a.DSTATE_ERROR=-2;b.constructor=function(){var a=this;this.Super("constructor");this._state=0;this._error=this._value=null;this.dispatchEvent(new s("stateChange",{target:this}),new s("resolved",{target:this}),new s("rejected",{target:this}),new s("done",{target:this}));this.__COX_DEFERRED_ERROR__=
function(b){b=Error(b);a._state=-2;a._error=b;a.fireEvent("stateChange",[-2]);a.fireEvent("rejected",[a._value,b]);a.fireEvent("done",[!1,a._value,b]);a.getEvent("resolved").stopPropagation()}};b.then=o(Function,m(Function),function(a,b){switch(this._state){case 0:this.addOnceEventListener("resolved",a);b&&this.addOnceEventListener("rejected",b);break;case I:a.call(this,this._value,this.__COX_DEFERRED_ERROR__);break;case -2:case N:b&&b.call(this,this._value,this._error)}});b.done=o(A(Function),function(a){function b(d,
h,i){k.forEach(a,function(a){a.call(g,d,h,e,i);return!f})}function e(){f=!0;h.stopPropagation()}var g=this,h=this.getEvent("done"),f=!1;0===this._state?this.addOnceEventListener("done",b):b(this._state===I,this._value,this._error)});b.resolved=function(a){var b=this.getEvent("resolved");if(0!==this._state)throw Error("\u975e\u6cd5\u64cd\u4f5c:");this._state=I;this._value=a;this.fireEvent("stateChange",[I]);this.fireEvent("resolved",[a,this.__COX_DEFERRED_ERROR__,function(){b.stopPropagation()}]);
!this._error&&this.fireEvent("done",[!0,a])};b.rejected=function(a){if(0!==this._state){if(a instanceof Error)throw a;throw Error("\u975e\u6cd5\u64cd\u4f5c");}this._state=N;this._value=a;this.fireEvent("stateChange",[N]);this.fireEvent("rejected",[a]);this.fireEvent("done",[!1,a])};b.getValue=function(){return this._value};b.isDone=function(){return 0!==this._state};b.isResolved=function(){return this._state===I};b.isRejected=function(){return this._state===N}});F("DeferredList",z,G(L),null,function(a,
b){function c(a){function b(){a.splice(k.indexOf(this),1);this.isResolved()?c._resolved_list.push(this):c._rejected_list.push(this);0===a.length&&(0===c._rejected_list.length?(c._state=I,c.getValue(),c.fireEvent("stateChange",[I]),c.fireEvent("resolved",[c._value,c.__COX_DEFERRED_ERROR__,function(){c.getEvent("resolved").stopPropagation()}]),!c._error&&c.fireEvent("done",[!0,c._value])):(c._state=N,c.getValue(),c.fireEvent("stateChange",[N]),c.fireEvent("rejected",[c._value]),c.fireEvent("done",[!1,
c._value])))}var c=this,a=a.slice();if(0===a.length)throw Error("DeferredList\u7c7b\u6784\u9020\u5668\u53c2\u6570\u5217\u8868\u4e2d\u81f3\u5c11\u9700\u8981\u4e00\u4e2a\u53c2\u6570.");this.Super("constructor");this._deferred_list=a.slice();this._resolved_list=[];this._rejected_list=[];k.forEach(this._deferred_list,function(a){a.done(b)})}fa=this;b.constructor=o(A(L),c);b.constructor.define(Array,c);b.resolved=function(a){var b=this._deferred_list;if(0!==this._state)throw Error("DeferredList\u7c7b\u5b9e\u4f8b\u7684resolved\u65b9\u6cd5\uff0c\u53ea\u80fd\u5728DeferredList \u7c7b\u5b9e\u4f8b\u7684\u72b6\u6001\u5728\u672a\u5b8c\u6210\u65f6\u624d\u80fd\u88ab\u8c03\u7528.");
for(var c=0,h=b.length;c<h;c++){var f=b[c];f.isDone()||f.resolved(a)}};b.rejected=function(a){var b=this._deferred_list;if(0!==this._state)throw Error("DeferredList\u7c7b\u5b9e\u4f8b\u7684rejected\u65b9\u6cd5\uff0c\u53ea\u80fd\u5728DeferredList \u7c7b\u5b9e\u4f8b\u7684\u72b6\u6001\u5728\u672a\u5b8c\u6210\u65f6\u624d\u80fd\u88ab\u8c03\u7528.");for(var c=0,h=b.length;c<h;c++){var f=b[c];f.isDone()||f.rejected(a)}};b.getValue=function(){return this.isDone()?this._value=this._value||k.map(this._deferred_list,
function(a){return a.getValue()}):null};b.getDeferredList=function(){return this._deferred_list}});void 0;var O=function(a){var b=0;root="/"===a.charAt(0)?"/":"";for(var a=ba(a),a=a.split("/"),c=0,d=a.length;c<d;c++){var e=a[c];switch(e){case "":case ".":break;case "..":0<b&&b--;break;default:a[b++]=e}}a.length=b;a.unshift("");return root+a.join("/")},X=function(a){var b,a=ba(a);b=a.lastIndexOf("/");return a=-1!==b?a.slice(0,b)||"/":""},ba=function(a){pa.lastIndex=0;return a.replace(pa,"/")},ia=function(a){var b=
a.depend,c=b&&b.modules||{},d=X(a.url||""),e={};return function(b){var h=e[b],f=null;h instanceof q||l.forEach(c,!0,function(a,c){var f=a.url||a.id;if(c===b||f.slice(0-b.length)===b||f.slice(0-b.length-3)===b+".js"||O(f)===O(d+"/"+b)){h=e[b]=a;return false}});if(!(h instanceof q))throw Error("\u8bf7\u6c42\u7684 "+b+" \u6a21\u5757\u672a\u88ab\u52a0\u8f7d\u6216\u672a\u5728 "+(a.uri||"\u5f53\u524d\u6267\u884c")+" \u6a21\u5757\u7684\u4f9d\u8d56\u5217\u8868\u4e2d\u58f0\u660e.");if(!h.isResolved()&&h.isRejected())throw Error(b+
" \u6a21\u5757\u7531\u4e8e\u672a\u88ab\u51c6\u5907\u597d\u6216\u8be5\u6a21\u5757\u662f\u4e00\u4e2a\u4e0d\u53ef\u7528\u6a21\u5757\uff0c\u5bfc\u81f4\u65e0\u6cd5\u88ab\u6b63\u5e38\u4f7f\u7528.");h.exports||(h.exports={});if("function"!==typeof h.define)return h.exports;f=h.define;delete h.define;h.__define=f;f(ia(h),h.exports,h,h.url,X(h.url));return h.exports}},qa=/(?:https?|file):\/{2,3}([^\?#]+).*$/i,ra=/^\w+:\/{2,3}/,M=/^(\w+:\/{2,3}[^\/]+)/,va=/^(.*)\/.*$/,wa=/^[\w.]+$/,pa=/\\{1,}/g,xa=/\s*;\s*/,
ya=/\s*=\s*/,sa=null,ca=null,U=null,ja=null,J=null,q=null,r=null,B={},ta,za=(new Date).getTime();ta=function(){return za++};if($)sa=i.document.documentElement,ca=i.location.href,ca.match(ra),U=ca.match(M)[1],J=ca.match(va)[1],ja=".js";else if(Q)J=U=X(require.main.filename),ja="";else throw Error("Cox \u672a\u5728\u8be5\u73af\u5883\u4e2d\u63d0\u4f9b\u517c\u5bb9\u652f\u6301");B["~/"]=J;B["~/Cox"]=(Q?ba(__dirname):J)+"/modules";r=F("ModuleCenter",E,G(aa),null,function(a,b){function c(a,b){var c=a[b];
return c instanceof q?c:null}function d(a,b){var c=null;l.forEach(a,!0,function(a,d){if(b(a,d)){c=a;return false}});return c}var e={},g={},f={},i=Q?require.cache:{},j=null,m=document,n=new L;m.addEventListener?m.addEventListener("DOMContentLoaded",function(){m.removeEventListener("DOMContentLoaded",arguments.callee,!1);n.resolved()},!1):m.attachEvent("onreadystatechange",function(){/^c/.test(m.readyState)&&(m.detachEvent("onreadystatechange",arguments.callee),n.resolved())});j=[function(a){n.then(function(){var b=
function(){if(d.addEventListener||"loaded"===d.readyState||"complete"===d.readyState)(delete g[a.id],e[a.id]=a,a.loaded.isDone()||(a.loaded.resolved(),a.resolved()),d.removeEventListener)?(d.removeEventListener("load",b,!1),d.removeEventListener("error",b,!1)):d.detachEvent("onreadystatechange",b)},c=function(){delete g[a.id];d.removeEventListener?(d.removeEventListener("load",b,!1),d.removeEventListener("error",c,!1)):(d.detachEvent("onreadystatechange",b),d.detachEvent("error",c));a.loaded.rejected()},
d=document.createElement("script"),f=a.url;f&&(d.addEventListener?(d.addEventListener("load",b,!1),d.addEventListener("error",c,!1)):d.attachEvent("onreadystatechange",b),d.setAttribute("type","text/javascript"),d.setAttribute("charset","utf-8"),d.setAttribute("async","true"),d.setAttribute("defer","true"),d.setAttribute("src",f),sa.firstChild.insertBefore(d,null))})},function(a){var b=null;try{b=require(a.url||a.id),e[a.id]=a}catch(c){throw a.loaded.rejected(),a.rejected(),c;}finally{delete g[a.id]}a.loaded.isDone()||
a.loaded.resolved();a.isEmpty()&&(a.define=function(a,c,d){d.exports=b},a.resolved())}][~~Q];b.constructor=function(){this.Super("constructor");this.dispatchEvent(new s("loading"),new s("loaded"),new s("error"))};var p=function(a,b,c){var d=b.depend&&b.depend.modules,e=[];d&&l.forEach(d,!0,function(b,g){b=r.getModule(b.id)||b;d[g]=b;g=b.id;if(g!==a.id&&!(c.list[g]instanceof q)){c.list[g]=b;c.length++;e.push(b)}});e.length&&k.forEach(e,function(b){b.loaded.then(function(){c.length--;p(a,b,c)},function(b){a.rejected(b)})});
if(0===c.length&&null===c.wait)if(c.wait=1,a.isMain()){var g=[];a.depend&&l.forEach(a.depend.modules,!0,function(a){a instanceof q&&g.push(a)});(new fa(g)).then(function(){a.resolved()},function(b){a.rejected(b)})}else a.resolved()};b.pending=function(a){var b={module:a,list:{},length:0,wait:null},c=r.getEvent("loaded"),d=r.getEvent("loading"),e=r.getEvent("error");f[a.uid]=b;a.done(function(){delete f[a.uid]});a.depend&&a.depend.modules&&l.forEach(a.depend.modules,!0,function(b,f){if(r.exists(b))a.depend.modules[f]=
b=r.getModule(b.id);else{b.__COX_MODULE_MAIN__=a.__COX_MODULE_MAIN__||a;g[b.id]=b;j(b);d.target=b;r.fireEvent("loading",[d]);b.loaded.then(function(){c.target=b;r.fireEvent("loaded",[c])},function(){e.target=b;r.fireEvent("eerror",[e])})}});p(a,a,b)};b.exists=function(a){return this.loaded(a)||this.loading(a)};b.loaded=function(a){return a&&e[a.id]instanceof q};b.loading=function(a){return a&&g[a.id]instanceof q};b.getModule=function(a){var b=null,b=e[a],b=b instanceof q?b:g[a];return b instanceof
q?b:null};b.findInLoading=o(String,function(a){return c(g,a)});b.findInLoading.define(Function,function(a){return d(g,a)});b.findInLoaded=o(String,function(a){return c(e,a)});b.findInLoaded.define(Function,function(a){return d(e,a)});b.findInCache=o(String,function(a){return c(i,a)});b.findInCache.define(Function,function(a){return d(i,a)})}).getInstance();F("Module",T,G(L),null,function(a,b){function c(a,b){var c;c=a;var d=c.match(ra),d=d&&d[0]||"";c=[d,c.replace(d,"")];a=c[1];c=c[0];return c+O(a+
"/"+b).slice(1)+ja}q=this;var d=[{pattern:/^\w+:\/{2,3}[\S]+$/,resolve:function(a){return a}},{pattern:/^~\/.+$/,resolve:function(a){var b="~/";k.forEach(a.slice(2).split("/"),function(a){if(b+a in B)return b+=a,!1});return c(B[b],a.slice(b.length))}},{pattern:/^(?:\.{1,2}?\/|\/).+$/,resolve:function(a,b){"/"===a.charAt(0)&&(b=U);return c(b,a)}},{pattern:/^[\S]+$/,resolve:function(){return""}},{pattern:/^[A-Za-z]\:.+$/,resolve:function(a){return a}}];Q&&(c=function(a,b){return O(a+"/"+b).slice(1)});
a.resolve=function(a,b){var c="",f={},b=b||J;a&&k.forEach(d,function(d){if(!0===d.pattern.test(a))return c=d.resolve(a,b),!1},this);f.id=c||a;f.url=c;return f};b.constructor=function(a,b,c,d){this.Super("constructor");this.setUri(a,b);this.exports={};this.loaded=new L;this.depend=c;this.define=d;this.uid="MODULE#"+ta();this.__COX_MODULE_MAIN__=null};b.setUri=function(a,b){a=v.trim(a||"");b=t(String,b)?b:B["~/"];l.mix(this,q.resolve(a,b),!0)};b.isMain=function(){return this===this.__COX_MODULE_MAIN__};
b.isEmpty=function(){return!this.depend&&!this.define}});p=f("Modules",f.SUBSIDIARY,y(function(a){this.setModules(a)}));p.prototype.setModules=function(a,b){var c={};this._uris=a;this._root=b=b||J;k.forEach(a,function(a){var e;c[a]instanceof q||(e=q.resolve(a,b),e=e.id,c[a]=r.getModule(e)||new q(a,b))});this.modules=c};p.prototype.setRoot=function(a){this._root=a;this.setModules(this._uris,a)};p.addRoot=function(a,b){!1===qa.test(b)&&(b="/"===b.charAt(0)?U+O(b):U+O((J+"/"+b).replace(U,"")));B["~/"+
a]=b};p.removeRoot=function(a){""===a?B["~/"]=J:delete B["~/"+a]};p.getRoot=function(a){return B["~/"+(a||"")]||null};p.ModuleCenter=r;M=f("Define",f.TOOL,function(a,b,c){var d=null,a=v.trim(a),e=RegExp("/"+a+"(?:.js|.JS)?$");if(!(t(String,a)?a:"").length||!wa.test(a))throw Error("\u65e0\u6548\u7684\u6a21\u5757\u6807\u8bc6\u7b26");if(!c)throw Error("\u9700\u8981\u4e00\u4e2aFunction\u7c7b\u578b\u5b9e\u4f8b\u6765\u5b8c\u6210\u6a21\u5757\u7684\u5b9a\u4e49");d=r.findInLoading(a)||r.findInLoading(function(a,
b){return e.test(b)});if(!d){if(Q&&(d=r.findInCache(function(a,b){return e.test(ba(b))&&!a.loaded}))){var f=X(d.filename);b?W(b,f,function(a,b){c(a,b.exports,b);d.exports=b.exports}):(a=new q(a,f,b,c),a.loaded.resolved(),a.resolved(),a.__COX_MODULE_MAIN__=a,c(ia(a),a.exports,a),d.exports=a.exports);return!1}d=new q(a,"")}b&&b.setRoot(X(d.url));d.define=c;d.depend=b;d.loaded.resolved();r.pending(d)});W=f("Use",f.TOOL,function(a,b,c){var d=null;b&&(qa.test(b)||(b=O(B["~/"]+"/"+b).substr(1)),a.setRoot(b));
d=new q("","",a);d.then(function(){c(ia(d),d)});d.__COX_MODULE_MAIN__=d;d.loaded.resolved();r.pending(d);return d});$&&($=i.document.getElementsByTagName("SCRIPT"),k.forEach($,function(a){var b=a.getAttribute("cox-path");if(null!==b){for(b=v.trim(b).split(xa);a=b.shift();)kv=a.split(ya),1===kv.length?p.addRoot("",kv[0]):p.addRoot(kv[0],kv[1]);return!1}}));void 0;i.Cox=j;i.XObject=j.XObject=l;i.XString=j.XString=v;i.XList=j.XList=k;i.is=j.is=t;i.Nullable=j.Nullable=V;i.Optional=j.Optional=m;i.Params=
j.Params=A;i.ParamTypeTable=j.ParamTypeTable=u;i.Implements=j.Implements=C;i.Extends=j.Extends=G;i.Abstract=j.Abstract=K;i.Single=j.Single=E;i.Finaly=j.Finaly=T;i.XFunction=j.XFunction=o;i.Deferred=j.Deferred=L;i.DeferredList=j.DeferredList=fa;i.forEach=j.forEach=o(Array,Function,m(Object),k.forEach);i.Iterator=j.Iterator=x("Iterator",null,function(a,b){b.hasNext=Function;b.next=Function;b.reset=Function});i.forEach.define(j.Iterator,Function,m(Object),function(a,b,c){for(;a.hasNext();)if(b.call(c||
null,a.next(),a)===false)break});i.forEach.define(Object,m(Boolean,!0),Function,m(Object),l.forEach);i.Class=j.Class=o(m(String),m(D,z),m(G),m(C),Function,F);i.Interface=j.Interface=o(String,m(G),Function,x);i.Define=j.Define=o(String,m(p),Function,M);i.Modules=j.Modules=o(Params(String),p);i.Modules.define(Array,p);i.Use=j.Use=o(p,m(String),Function,W);i.Use.define(Array,Function,function(a,b){return W(p(a),"",b)});i.Use.define(String,Function,function(a,b){return W(p([a]),"",b)});i.Depend=j.Modules;
j.Event=s;j.EventListener=ea;j.EventSource=aa;j.PlainObject=R;j.ownDocument=i.document;j.ownWindow=i;l.mix(i.Modules,p,!0);"undefined"!==typeof exports&&(module.exports=j)}();